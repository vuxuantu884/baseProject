{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;import{useTranslation}from\"react-i18next\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router\";import styled from\"styled-components\";import{useCallback,useEffect,useState}from\"react\";import{Checkbox}from\"antd\";import{ComponentGmailButton,ComponentHeaderAuth,ComponentPhoneButton,ComponentSocialMedia,SharedSocialLine,StyledContainerSignIn,StyledSignUp}from\"@components\";import{logout,selectMerchant}from\"@redux\";import{ModuleEmailSignIn,ModuleFaceBook,ModuleGoogle,ModuleLine,ModuleTelSignIn}from\"@modules\";import{enumExternalMethod,PATH_RESET_PASSWORD_EMAIL,enumExternalAuthType,PATH_SIGN_UP}from\"@configs\";import{useNotify}from\"@utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var PageSignIn=function PageSignIn(){//page hook\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var _useNotify=useNotify(),error=_useNotify.error;var dispatch=useDispatch();//redux states\nvar merchant=useSelector(selectMerchant);var _useState=useState(enumExternalMethod.EMAIL),_useState2=_slicedToArray(_useState,2),loginMethod=_useState2[0],setLoginMethod=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),signinMethods=_useState4[0],setSigninMethods=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),remember=_useState6[0],setRemember=_useState6[1];//page variable\nvar state={type:enumExternalAuthType.LOGIN};var errorHandler=function errorHandler(errors){//handle Error\nif(errors.response){var _errors$response=errors.response,data=_errors$response.data,status=_errors$response.status;if((data===null||data===void 0?void 0:data.message)&&status!==500){error(data===null||data===void 0?void 0:data.message);}else{error(t(\"page.auth.sign_in_failed\"));}dispatch(logout());}};useEffect(function(){setSigninMethods([/*#__PURE__*/_jsx(ModuleLine,{state:state}),/*#__PURE__*/_jsx(ModuleFaceBook,{errorHandler:errorHandler,state:state}),/*#__PURE__*/_jsx(ModuleGoogle,{errorHandler:errorHandler,state:state}),/*#__PURE__*/_jsx(ComponentPhoneButton,{onClick:handleSwitchPhone})]);},[]);var handleSignUp=function handleSignUp(){history.push(PATH_SIGN_UP);};var handleForgotPassword=useCallback(function(){history.push(PATH_RESET_PASSWORD_EMAIL);},[]);var handleToggleRemember=useCallback(function(){setRemember(!remember);},[remember]);var handleSwitchEmail=useCallback(function(){setLoginMethod(enumExternalMethod.EMAIL);setSigninMethods([/*#__PURE__*/_jsx(ModuleLine,{state:state}),/*#__PURE__*/_jsx(ModuleFaceBook,{errorHandler:errorHandler,state:state}),/*#__PURE__*/_jsx(ModuleGoogle,{errorHandler:errorHandler,state:state}),/*#__PURE__*/_jsx(ComponentPhoneButton,{onClick:handleSwitchPhone})]);},[signinMethods]);var handleSwitchPhone=useCallback(function(){setLoginMethod(enumExternalMethod.TEL);setSigninMethods([/*#__PURE__*/_jsx(ModuleLine,{state:state}),/*#__PURE__*/_jsx(ModuleFaceBook,{errorHandler:errorHandler,state:state}),/*#__PURE__*/_jsx(ModuleGoogle,{errorHandler:errorHandler,state:state}),/*#__PURE__*/_jsx(ComponentGmailButton,{onClick:handleSwitchEmail})]);},[signinMethods]);return/*#__PURE__*/_jsx(StyledContainerSignIn,{color:merchant.themeColor,children:/*#__PURE__*/_jsx(ComponentHeaderAuth,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledSignUp,{children:/*#__PURE__*/_jsxs(StyledContainer,{bg_color:merchant.themeColor,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[t(\"page.auth.sign_in_to\"),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",merchant.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"choose\",children:t(\"page.auth.choose_sign_in_method\")}),/*#__PURE__*/_jsx(ComponentSocialMedia,{socials:signinMethods}),/*#__PURE__*/_jsx(SharedSocialLine,{}),loginMethod===enumExternalMethod.EMAIL?/*#__PURE__*/_jsx(ModuleEmailSignIn,{remember:remember}):/*#__PURE__*/_jsx(ModuleTelSignIn,{remember:remember}),/*#__PURE__*/_jsxs(\"div\",{className:\"forgot\",children:[t(\"page.auth.forgot\"),/*#__PURE__*/_jsx(\"span\",{onClick:handleForgotPassword,children:t(\"page.auth.password\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"remember\",children:/*#__PURE__*/_jsx(Checkbox,{value:remember,onClick:handleToggleRemember,children:t(\"page.auth.remember_me\")})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign_in\",children:[t(\"page.auth.already_have_an_account\"),/*#__PURE__*/_jsx(\"span\",{onClick:handleSignUp,children:t(\"page.auth.sign_up\")})]})]})})});};var StyledContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    .title {\\n        font-style: normal;\\n        font-weight: bold;\\n        font-size: 18px;\\n        line-height: 1.25em;\\n        color: #000000;\\n        margin-bottom: 25px;\\n    }\\n    .choose {\\n        font-size: 15px;\\n        line-height: 21px;\\n        color: #676767;\\n        margin-bottom: 30px;\\n    }\\n    .site-form-item-icon {\\n        font-size: 20px;\\n    }\\n    .forgot {\\n        font-size: 15px;\\n        line-height: 21px;\\n        font-weight: bold;\\n        color: #646464;\\n        text-align: start;\\n        margin-top: 16px;\\n        span {\\n            color: \",\";\\n            cursor: pointer;\\n        }\\n    }\\n    .remember {\\n        text-align: start;\\n        font-weight: bold;\\n        font-size: 15px;\\n        line-height: 21px;\\n        margin-top: 8px;\\n        color: #646464;\\n    }\\n\"])),function(p){return p.bg_color;});","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/Pages/authentication/SignIn.tsx"],"names":["useTranslation","useDispatch","useSelector","useHistory","styled","useCallback","useEffect","useState","Checkbox","ComponentGmailButton","ComponentHeaderAuth","ComponentPhoneButton","ComponentSocialMedia","SharedSocialLine","StyledContainerSignIn","StyledSignUp","logout","selectMerchant","ModuleEmailSignIn","ModuleFaceBook","ModuleGoogle","ModuleLine","ModuleTelSignIn","enumExternalMethod","PATH_RESET_PASSWORD_EMAIL","enumExternalAuthType","PATH_SIGN_UP","useNotify","PageSignIn","t","history","error","dispatch","merchant","EMAIL","loginMethod","setLoginMethod","signinMethods","setSigninMethods","remember","setRemember","state","type","LOGIN","errorHandler","errors","response","data","status","message","handleSwitchPhone","handleSignUp","push","handleForgotPassword","handleToggleRemember","handleSwitchEmail","TEL","themeColor","name","StyledContainer","div","p","bg_color"],"mappings":"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","sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Checkbox } from \"antd\";\n\nimport {\n    ComponentGmailButton,\n    ComponentHeaderAuth,\n    ComponentPhoneButton,\n    ComponentSocialMedia,\n    SharedSocialLine,\n    StyledContainerSignIn,\n    StyledSignUp,\n} from \"@components\";\nimport { logout, selectMerchant } from \"@redux\";\nimport {\n    ModuleEmailSignIn,\n    ModuleFaceBook,\n    ModuleGoogle,\n    ModuleLine,\n    ModuleTelSignIn,\n} from \"@modules\";\nimport {\n    enumExternalMethod,\n    PATH_RESET_PASSWORD_EMAIL,\n    enumExternalAuthType,\n    PATH_SIGN_UP,\n} from \"@configs\";\nimport { IExternalAuthState } from \"@interfaces\";\nimport { useNotify } from \"@utils\";\n\nexport const PageSignIn = () => {\n    //page hook\n    const { t } = useTranslation();\n    const history = useHistory();\n    const { error } = useNotify();\n    const dispatch = useDispatch();\n    //redux states\n    const merchant = useSelector(selectMerchant);\n    const [loginMethod, setLoginMethod] = useState<enumExternalMethod>(enumExternalMethod.EMAIL);\n    const [signinMethods, setSigninMethods] = useState<JSX.Element[]>([]);\n    const [remember, setRemember] = useState<boolean>(false);\n    //page variable\n    const state: IExternalAuthState = {\n        type: enumExternalAuthType.LOGIN,\n    };\n    const errorHandler = (errors: any) => {\n        //handle Error\n        if (errors.response) {\n            const { data, status } = errors.response;\n            if (data?.message && status !== 500) {\n                error(data?.message);\n            } else {\n                error(t(\"page.auth.sign_in_failed\"));\n            }\n            dispatch(logout());\n        }\n    };\n\n    useEffect(() => {\n        setSigninMethods([\n            <ModuleLine state={state} />,\n            <ModuleFaceBook errorHandler={errorHandler} state={state} />,\n            <ModuleGoogle errorHandler={errorHandler} state={state} />,\n            <ComponentPhoneButton onClick={handleSwitchPhone} />,\n        ]);\n    }, []);\n\n    const handleSignUp = () => {\n        history.push(PATH_SIGN_UP);\n    };\n\n    const handleForgotPassword = useCallback(() => {\n        history.push(PATH_RESET_PASSWORD_EMAIL);\n    }, []);\n\n    const handleToggleRemember = useCallback(() => {\n        setRemember(!remember);\n    }, [remember]);\n\n    const handleSwitchEmail = useCallback(() => {\n        setLoginMethod(enumExternalMethod.EMAIL);\n        setSigninMethods([\n            <ModuleLine state={state} />,\n            <ModuleFaceBook errorHandler={errorHandler} state={state} />,\n            <ModuleGoogle errorHandler={errorHandler} state={state} />,\n            <ComponentPhoneButton onClick={handleSwitchPhone} />,\n        ]);\n    }, [signinMethods]);\n\n    const handleSwitchPhone = useCallback(() => {\n        setLoginMethod(enumExternalMethod.TEL);\n        setSigninMethods([\n            <ModuleLine state={state} />,\n            <ModuleFaceBook errorHandler={errorHandler} state={state} />,\n            <ModuleGoogle errorHandler={errorHandler} state={state} />,\n            <ComponentGmailButton onClick={handleSwitchEmail} />,\n        ]);\n    }, [signinMethods]);\n\n    return (\n        <StyledContainerSignIn color={merchant.themeColor}>\n            <ComponentHeaderAuth>\n                <>\n                    <StyledSignUp>\n                        <StyledContainer bg_color={merchant.themeColor}>\n                            <div className=\"title\">\n                                {t(\"page.auth.sign_in_to\")} <br /> {merchant.name}\n                            </div>\n                            <div className=\"choose\">{t(\"page.auth.choose_sign_in_method\")}</div>\n                            <ComponentSocialMedia socials={signinMethods} />\n                            <SharedSocialLine />\n                            {loginMethod === enumExternalMethod.EMAIL ? (\n                                <ModuleEmailSignIn remember={remember} />\n                            ) : (\n                                <ModuleTelSignIn remember={remember} />\n                            )}\n\n                            {/* <ModuleEmailSignIn /> */}\n                            <div className=\"forgot\">\n                                {t(\"page.auth.forgot\")}\n                                <span onClick={handleForgotPassword}>\n                                    {t(\"page.auth.password\")}\n                                </span>\n                            </div>\n                            <div className=\"remember\">\n                                <Checkbox value={remember} onClick={handleToggleRemember}>\n                                    {t(\"page.auth.remember_me\")}\n                                </Checkbox>\n                            </div>\n                        </StyledContainer>\n                    </StyledSignUp>\n                    {/* <ModuleEmailSignIn handleForgotPassword={handleForgotPassword} /> */}\n                    <div className=\"sign_in\">\n                        {t(\"page.auth.already_have_an_account\")}\n                        <span onClick={handleSignUp}>{t(\"page.auth.sign_up\")}</span>\n                    </div>\n                </>\n            </ComponentHeaderAuth>\n        </StyledContainerSignIn>\n    );\n};\n\nconst StyledContainer = styled.div<{ bg_color: string }>`\n    .title {\n        font-style: normal;\n        font-weight: bold;\n        font-size: 18px;\n        line-height: 1.25em;\n        color: #000000;\n        margin-bottom: 25px;\n    }\n    .choose {\n        font-size: 15px;\n        line-height: 21px;\n        color: #676767;\n        margin-bottom: 30px;\n    }\n    .site-form-item-icon {\n        font-size: 20px;\n    }\n    .forgot {\n        font-size: 15px;\n        line-height: 21px;\n        font-weight: bold;\n        color: #646464;\n        text-align: start;\n        margin-top: 16px;\n        span {\n            color: ${(p) => p.bg_color};\n            cursor: pointer;\n        }\n    }\n    .remember {\n        text-align: start;\n        font-weight: bold;\n        font-size: 15px;\n        line-height: 21px;\n        margin-top: 8px;\n        color: #646464;\n    }\n`;\n"]},"metadata":{},"sourceType":"module"}