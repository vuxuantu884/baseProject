{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { authApi } from \"@api\";\nexport const login = createAsyncThunk(\"auth/login\", async (values, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const res = await authApi.login(values);\n    return res.data;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});\nexport const lineLogin = createAsyncThunk(\"auth/lineLogin\", async (values, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    const res = await authApi.lineLogin(values);\n    return res.data;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});\nexport const lineSignup = createAsyncThunk(\"auth/lineSignup\", async (values, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n\n  try {\n    const res = await authApi.lineSignup(values);\n    return res.data;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});\nexport const fbLogin = createAsyncThunk(\"auth/fbLogin\", async (values, _ref4) => {\n  let {\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    const res = await authApi.fbLogin(values);\n    return res.data;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});\nexport const fbSignup = createAsyncThunk(\"auth/fbSignup\", async (values, _ref5) => {\n  let {\n    rejectWithValue\n  } = _ref5;\n\n  try {\n    const res = await authApi.fbSignup(values);\n    return res.data;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});\nexport const ggLogin = createAsyncThunk(\"auth\", async (values, _ref6) => {\n  let {\n    rejectWithValue\n  } = _ref6;\n\n  try {\n    const res = await authApi.ggLogin(values);\n    return res.data;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});\nexport const ggSignup = createAsyncThunk(\"auth/google-signup\", async (values, _ref7) => {\n  let {\n    rejectWithValue\n  } = _ref7;\n\n  try {\n    const res = await authApi.ggSignup(values);\n    return res.data;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});\nexport const getInfo = createAsyncThunk(\"auth/userInfo\", async () => {\n  const res = await authApi.getInfo();\n  return res.data;\n});\nconst initialState = {\n  auth: null,\n  isRemember: false,\n  isLoading: false,\n  error: \"\",\n  tokenInfoAuth: \"\",\n  userInfo: null,\n  externalLogin: null\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: initialState,\n  reducers: {\n    logout: () => {\n      return initialState;\n    },\n    setAuth: (state, action) => {\n      state.auth = action.payload;\n    },\n    setInfo: (state, action) => {\n      state.userInfo = { ...state.userInfo,\n        ...action.payload\n      };\n    },\n    setRemember: (state, action) => {\n      state.isRemember = action.payload;\n    },\n    setExternalLogin: (state, action) => {\n      state.externalLogin = action.payload.type;\n      state.line = action.payload.line;\n      state.isLoading = true;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(login.fulfilled, (state, action) => {\n      if (action.payload.accessToken) {\n        state.auth = action.payload;\n      }\n\n      if (!state.isRemember) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        state.auth.refreshToken = null;\n      }\n\n      state.isLoading = false;\n    });\n    builder.addCase(login.pending, state => {\n      state.isLoading = true;\n    });\n    builder.addCase(login.rejected, state => {\n      state.auth = null;\n      state.isLoading = false;\n    });\n    builder.addCase(getInfo.fulfilled, (state, action) => {\n      state.userInfo = action.payload;\n    });\n    builder.addCase(getInfo.rejected, state => {\n      state.userInfo = null;\n    });\n    builder.addCase(lineLogin.fulfilled, (state, action) => {\n      if (action.payload.accessToken) {\n        state.auth = action.payload;\n      }\n    });\n    builder.addCase(lineLogin.rejected, state => {\n      state.auth = null;\n      state.externalLogin = null;\n      state.line = null;\n      state.isLoading = false;\n    });\n    builder.addCase(lineSignup.fulfilled, (state, action) => {\n      if (action.payload.accessToken) {\n        state.auth = action.payload;\n      }\n    });\n    builder.addCase(lineSignup.rejected, state => {\n      state.auth = null;\n      state.externalLogin = null;\n      state.line = null;\n      state.isLoading = false;\n    });\n    builder.addCase(fbLogin.fulfilled, (state, action) => {\n      if (action.payload.accessToken) {\n        state.auth = action.payload;\n      }\n    });\n    builder.addCase(fbLogin.rejected, state => {\n      state.auth = null;\n      state.externalLogin = null;\n      state.isLoading = false;\n    });\n    builder.addCase(fbSignup.fulfilled, (state, action) => {\n      if (action.payload.accessToken) {\n        state.auth = action.payload;\n      }\n    });\n    builder.addCase(fbSignup.rejected, state => {\n      state.auth = null;\n      state.externalLogin = null;\n      state.isLoading = false;\n    });\n    builder.addCase(ggLogin.fulfilled, (state, action) => {\n      if (action.payload.accessToken) {\n        state.auth = action.payload;\n      }\n    });\n    builder.addCase(ggLogin.rejected, state => {\n      state.auth = null;\n      state.externalLogin = null;\n      state.isLoading = false;\n    });\n    builder.addCase(ggSignup.fulfilled, (state, action) => {\n      if (action.payload.accessToken) {\n        state.auth = action.payload;\n      }\n    });\n    builder.addCase(ggSignup.rejected, state => {\n      state.auth = null;\n      state.externalLogin = null;\n      state.isLoading = false;\n    });\n  }\n});\nexport const selectAuth = state => state.auth;\nexport const {\n  logout,\n  setAuth,\n  setInfo,\n  setRemember,\n  setExternalLogin\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/Redux/Slices/auth.ts"],"names":["createAsyncThunk","createSlice","authApi","login","values","rejectWithValue","res","data","err","lineLogin","lineSignup","fbLogin","fbSignup","ggLogin","ggSignup","getInfo","initialState","auth","isRemember","isLoading","error","tokenInfoAuth","userInfo","externalLogin","authSlice","name","reducers","logout","setAuth","state","action","payload","setInfo","setRemember","setExternalLogin","type","line","extraReducers","builder","addCase","fulfilled","accessToken","refreshToken","pending","rejected","selectAuth","actions","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport {\n    IAuth,\n    IInfo,\n    ILogin,\n    ILineLogin,\n    IFBLogin,\n    IGGLogin,\n    ILineSignup,\n    IFBSignup,\n    IGGSignup,\n} from \"@interfaces\";\nimport { authApi } from \"@api\";\nimport { RootState } from \".\";\nimport { enumExternalMethod } from \"@configs\";\n\nexport const login = createAsyncThunk<IAuth, ILogin>(\n    \"auth/login\",\n    async (values: ILogin, { rejectWithValue }) => {\n        try {\n            const res = await authApi.login(values);\n            return res.data as IAuth;\n        } catch (err: any) {\n            return rejectWithValue(err);\n        }\n    }\n);\n\nexport const lineLogin = createAsyncThunk<IAuth, ILineLogin>(\n    \"auth/lineLogin\",\n    async (values, { rejectWithValue }) => {\n        try {\n            const res = await authApi.lineLogin(values);\n            return res.data as IAuth;\n        } catch (err: any) {\n            return rejectWithValue(err);\n        }\n    }\n);\n\nexport const lineSignup = createAsyncThunk<IAuth, ILineSignup>(\n    \"auth/lineSignup\",\n    async (values, { rejectWithValue }) => {\n        try {\n            const res = await authApi.lineSignup(values);\n            return res.data as IAuth;\n        } catch (err: any) {\n            return rejectWithValue(err);\n        }\n    }\n);\n\nexport const fbLogin = createAsyncThunk<IAuth, IFBLogin>(\n    \"auth/fbLogin\",\n    async (values, { rejectWithValue }) => {\n        try {\n            const res = await authApi.fbLogin(values);\n            return res.data as IAuth;\n        } catch (err: any) {\n            return rejectWithValue(err);\n        }\n    }\n);\n\nexport const fbSignup = createAsyncThunk<IAuth, IFBSignup>(\n    \"auth/fbSignup\",\n    async (values, { rejectWithValue }) => {\n        try {\n            const res = await authApi.fbSignup(values);\n            return res.data as IAuth;\n        } catch (err: any) {\n            return rejectWithValue(err);\n        }\n    }\n);\n\nexport const ggLogin = createAsyncThunk<IAuth, IGGLogin>(\n    \"auth\",\n    async (values, { rejectWithValue }) => {\n        try {\n            const res = await authApi.ggLogin(values);\n            return res.data as IAuth;\n        } catch (err: any) {\n            return rejectWithValue(err);\n        }\n    }\n);\n\nexport const ggSignup = createAsyncThunk<IAuth, IGGSignup>(\n    \"auth/google-signup\",\n    async (values, { rejectWithValue }) => {\n        try {\n            const res = await authApi.ggSignup(values);\n            return res.data as IAuth;\n        } catch (err: any) {\n            return rejectWithValue(err);\n        }\n    }\n);\n\nexport const getInfo = createAsyncThunk(\"auth/userInfo\", async () => {\n    const res = await authApi.getInfo();\n    return res.data as IInfo;\n});\n\ninterface ILine {\n    code: string | null;\n    state: string;\n}\ninterface IState {\n    auth: IAuth | null;\n    isRemember: boolean;\n    isLoading: boolean;\n    error: string;\n    tokenInfoAuth: string;\n    userInfo: IInfo | null;\n    line?: ILine | null;\n    externalLogin: enumExternalMethod | null;\n}\n\ninterface ISetExternalLogin {\n    line?: ILine;\n    type: enumExternalMethod;\n}\n\nconst initialState: IState = {\n    auth: null,\n    isRemember: false,\n    isLoading: false,\n    error: \"\",\n    tokenInfoAuth: \"\",\n    userInfo: null,\n    externalLogin: null,\n};\n\nconst authSlice = createSlice({\n    name: \"auth\",\n    initialState: initialState,\n    reducers: {\n        logout: () => {\n            return initialState;\n        },\n        setAuth: (state, action) => {\n            state.auth = action.payload;\n        },\n        setInfo: (state, action) => {\n            state.userInfo = { ...state.userInfo, ...action.payload };\n        },\n        setRemember: (state, action: PayloadAction<boolean>) => {\n            state.isRemember = action.payload;\n        },\n        setExternalLogin: (state, action: PayloadAction<ISetExternalLogin>) => {\n            state.externalLogin = action.payload.type;\n            state.line = action.payload.line;\n            state.isLoading = true;\n        },\n    },\n    extraReducers: (builder) => {\n        builder.addCase(login.fulfilled, (state, action: { payload: IAuth }) => {\n            if (action.payload.accessToken) {\n                state.auth = action.payload;\n            }\n            if (!state.isRemember) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                state.auth!.refreshToken = null;\n            }\n            state.isLoading = false;\n        });\n\n        builder.addCase(login.pending, (state) => {\n            state.isLoading = true;\n        });\n\n        builder.addCase(login.rejected, (state) => {\n            state.auth = null;\n            state.isLoading = false;\n        });\n\n        builder.addCase(getInfo.fulfilled, (state, action: { payload: IInfo }) => {\n            state.userInfo = action.payload;\n        });\n\n        builder.addCase(getInfo.rejected, (state) => {\n            state.userInfo = null;\n        });\n\n        builder.addCase(lineLogin.fulfilled, (state, action: { payload: IAuth }) => {\n            if (action.payload.accessToken) {\n                state.auth = action.payload;\n            }\n        });\n\n        builder.addCase(lineLogin.rejected, (state) => {\n            state.auth = null;\n            state.externalLogin = null;\n            state.line = null;\n            state.isLoading = false;\n        });\n\n        builder.addCase(lineSignup.fulfilled, (state, action: { payload: IAuth }) => {\n            if (action.payload.accessToken) {\n                state.auth = action.payload;\n            }\n        });\n\n        builder.addCase(lineSignup.rejected, (state) => {\n            state.auth = null;\n            state.externalLogin = null;\n            state.line = null;\n            state.isLoading = false;\n        });\n\n        builder.addCase(fbLogin.fulfilled, (state, action: { payload: IAuth }) => {\n            if (action.payload.accessToken) {\n                state.auth = action.payload;\n            }\n        });\n\n        builder.addCase(fbLogin.rejected, (state) => {\n            state.auth = null;\n            state.externalLogin = null;\n            state.isLoading = false;\n        });\n\n        builder.addCase(fbSignup.fulfilled, (state, action: { payload: IAuth }) => {\n            if (action.payload.accessToken) {\n                state.auth = action.payload;\n            }\n        });\n\n        builder.addCase(fbSignup.rejected, (state) => {\n            state.auth = null;\n            state.externalLogin = null;\n            state.isLoading = false;\n        });\n\n        builder.addCase(ggLogin.fulfilled, (state, action: { payload: IAuth }) => {\n            if (action.payload.accessToken) {\n                state.auth = action.payload;\n            }\n        });\n\n        builder.addCase(ggLogin.rejected, (state) => {\n            state.auth = null;\n            state.externalLogin = null;\n            state.isLoading = false;\n        });\n\n        builder.addCase(ggSignup.fulfilled, (state, action: { payload: IAuth }) => {\n            if (action.payload.accessToken) {\n                state.auth = action.payload;\n            }\n        });\n\n        builder.addCase(ggSignup.rejected, (state) => {\n            state.auth = null;\n            state.externalLogin = null;\n            state.isLoading = false;\n        });\n    },\n});\n\nexport const selectAuth = (state: RootState) => state.auth;\n\nexport const { logout, setAuth, setInfo, setRemember, setExternalLogin } = authSlice.actions;\n\nexport default authSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}