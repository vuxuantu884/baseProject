{"ast":null,"code":"import _toConsumableArray from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Avatar,Badge,Divider,Drawer,Dropdown,Layout,List,Menu,Popconfirm,Row,Switch,Tooltip}from\"antd\";import{Book,LogOut,Triangle,Home,MessageCircle,Droplet}from\"react-feather\";import{useEffect,useState}from\"react\";import{Link,useHistory,useLocation}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{capitalize,lowercase}from\"@utils\";import{StyledHeader,StyledSidebar}from\"@components\";import{selectApp,setBoxed,setCollapsed,setDarkSidebar,setMobileDrawer,setSidebarIcons,setSidebarPopup,useAppSelector,setWeakColor,setOptionDrawer}from\"@redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SubMenu=Menu.SubMenu;var Header=Layout.Header,Sider=Layout.Sider;var rootSubMenuKeys=[];var getKey=function getKey(name,index){var string=\"\".concat(name,\"-\").concat(index);var key=string.replace(\" \",\"-\");return key.charAt(0).toLowerCase()+key.slice(1);};var UserMenu=/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsx(Menu.Item,{children:\"Settings\"}),/*#__PURE__*/_jsx(Menu.Item,{children:\"Profile\"}),/*#__PURE__*/_jsx(Menu.Item,{children:\"Notifications\"})]});var routes=[{path:\"/\",name:\"Home\",icon:/*#__PURE__*/_jsx(Home,{strokeWidth:1,size:16})},{name:\"Apps\",icon:/*#__PURE__*/_jsx(MessageCircle,{strokeWidth:1,size:16}),children:[{path:\"/apps/calendar\",name:\"Calendar\"},{path:\"/apps/messages\",name:\"Messages\"},{path:\"/apps/social\",name:\"Social\"},{path:\"/apps/chat\",name:\"Chat\"}]},{path:\"/widgets\",name:\"Widgets\",icon:/*#__PURE__*/_jsx(Droplet,{strokeWidth:1,size:16}),badge:{value:\"5\"}}];export var ComponentSidebar=function ComponentSidebar(_ref){var sidebarTheme=_ref.sidebarTheme,sidebarMode=_ref.sidebarMode,sidebarIcons=_ref.sidebarIcons,collapsed=_ref.collapsed;//hook\nvar location=useLocation();var history=useHistory();var dispatch=useDispatch();//redux state\nvar app=useAppSelector(selectApp);//page state\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),openKeys=_useState2[0],setOpenKeys=_useState2[1];var pathname=location.pathname;var badgeTemplate=function badgeTemplate(badge){return/*#__PURE__*/_jsx(Badge,{count:badge.value});};useEffect(function(){routes.forEach(function(route,index){var isCurrentPath=pathname.indexOf(lowercase(route.name))>-1;var key=getKey(route.name,index);rootSubMenuKeys.push(key);if(isCurrentPath)setOpenKeys([].concat(_toConsumableArray(openKeys),[key]));});},[]);var onOpenChange=function onOpenChange(openKeys){var latestOpenKey=openKeys.slice(-1);if(rootSubMenuKeys.indexOf(latestOpenKey)===-1){setOpenKeys(_toConsumableArray(latestOpenKey));}else{setOpenKeys(latestOpenKey?_toConsumableArray(latestOpenKey):[]);}};var menu=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu,{theme:sidebarTheme,className:\"border-0 scroll-y\",style:{flex:1,height:\"100%\"},mode:sidebarMode,openKeys:openKeys,onOpenChange:onOpenChange,children:routes.map(function(route,index){if(!route.children){return/*#__PURE__*/_jsx(Menu.Item,{className:pathname===route.path?\"ant-menu-item-selected\":\"\",onClick:function onClick(){setOpenKeys([getKey(route.name,index)]);if(app.mobile)dispatch(setMobileDrawer(!app.mobileDrawer));},children:/*#__PURE__*/_jsx(Link,{to:route.path||\"/\",children:/*#__PURE__*/_jsxs(\"a\",{children:[sidebarIcons&&/*#__PURE__*/_jsx(\"span\",{className:\"anticon\",children:route.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:capitalize(route.name)}),route.badge&&badgeTemplate(route.badge)]})})},getKey(route.name,index));}else{return/*#__PURE__*/_jsx(SubMenu,{title:/*#__PURE__*/_jsxs(\"span\",{children:[sidebarIcons&&/*#__PURE__*/_jsx(\"span\",{className:\"anticon\",children:route.icon}),/*#__PURE__*/_jsx(\"span\",{children:capitalize(route.name)}),route.badge&&badgeTemplate(route.badge)]}),children:route.children.map(function(subitem,index){return/*#__PURE__*/_jsx(Menu.Item,{className:pathname===subitem.path?\"ant-menu-item-selected\":\"\",onClick:function onClick(){if(app.mobile)dispatch(setMobileDrawer(!app.mobileDrawer));},children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(subitem.path||\"/\"),children:/*#__PURE__*/_jsxs(\"a\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-auto\",children:capitalize(subitem.name)}),subitem.badge&&badgeTemplate(subitem.badge)]})})},getKey(subitem.name,index));})},getKey(route.name,index));}})}),/*#__PURE__*/_jsx(Divider,{className:\"m-0\",style:{display:\"\".concat(sidebarTheme===\"dark\"?\"none\":\"\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"py-3 px-4 bg-\".concat(sidebarTheme),children:/*#__PURE__*/_jsxs(Row,{type:\"flex\",align:\"middle\",justify:\"space-around\",children:[/*#__PURE__*/_jsx(Dropdown,{overlay:UserMenu,children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Badge,{count:6,overflowCount:5,style:{color:\"rgb(245, 106, 0)\",backgroundColor:\"rgb(253, 227, 207)\"},children:/*#__PURE__*/_jsx(Avatar,{shape:\"circle\",size:40,src:\"/static/images/avatar.jpg\"})})})}),!collapsed&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-auto\"}),/*#__PURE__*/_jsx(Link,{to:\"https://one-readme.fusepx.com\",children:/*#__PURE__*/_jsx(\"a\",{className:\"px-3 \".concat(sidebarTheme===\"dark\"?\"text-white\":\"text-body\"),children:/*#__PURE__*/_jsx(Tooltip,{title:\"Help\",children:/*#__PURE__*/_jsx(Book,{size:20,strokeWidth:1})})})}),/*#__PURE__*/_jsx(Popconfirm,{placement:\"top\",title:\"Are you sure you want to sign out?\",onConfirm:function onConfirm(){return history.push(\"/signin\");},okText:\"Yes\",cancelText:\"Cancel\",children:/*#__PURE__*/_jsx(\"a\",{className:\"px-3 \".concat(sidebarTheme===\"dark\"?\"text-white\":\"text-body\"),children:/*#__PURE__*/_jsx(LogOut,{size:20,strokeWidth:1})})})]})]})})]});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(StyledSidebar,{children:[!app.mobile&&/*#__PURE__*/_jsx(Sider,{width:240,className:\"bg-\".concat(sidebarTheme),theme:sidebarTheme,collapsed:collapsed,children:menu}),/*#__PURE__*/_jsx(Drawer,{closable:false,width:240,placement:\"left\",onClose:function onClose(){return dispatch(setMobileDrawer(!app.mobileDrawer));},visible:app.mobileDrawer,className:\"chat-drawer\",children:/*#__PURE__*/_jsx(StyledSidebar,{children:/*#__PURE__*/_jsxs(\"div\",{style:{overflow:\"hidden\",flex:\"1 1 auto\",flexDirection:\"column\",display:\"flex\",height:\"100vh\"},children:[/*#__PURE__*/_jsx(StyledHeader,{children:/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"brand\",children:[/*#__PURE__*/_jsx(Triangle,{size:24,strokeWidth:1}),/*#__PURE__*/_jsx(\"strong\",{className:\"mx-1\",style:{display:\"inline\"},children:\"Rewarding platform\"})]})})})}),menu]})})}),/*#__PURE__*/_jsxs(Drawer,{title:\"Settings\",placement:\"right\",closable:true,width:300,onClose:function onClose(){return dispatch(setOptionDrawer(!app.optionDrawer));},visible:app.optionDrawer,children:[/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:app.boxed,onChange:function onChange(checked){return dispatch(setBoxed(checked));}})],children:/*#__PURE__*/_jsx(\"span\",{style:{flex:\"1 0\"},children:\"Boxed view\"})}),/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:app.darkSidebar,disabled:app.weakColor,onChange:function onChange(checked){return dispatch(setDarkSidebar(checked));}})],children:/*#__PURE__*/_jsx(\"span\",{style:{flex:\"1 0\"},children:\"Dark sidebar menu\"})}),/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:app.sidebarPopup,disabled:app.collapsed,onChange:function onChange(checked){return dispatch(setSidebarPopup(checked));}})],children:/*#__PURE__*/_jsx(\"span\",{style:{flex:\"1 0\"},children:\"Popup sub menus\"})}),/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:app.sidebarIcons,disabled:app.collapsed,onChange:function onChange(checked){return dispatch(setSidebarIcons(checked));}})],children:/*#__PURE__*/_jsx(\"span\",{style:{flex:\"1 0\"},children:\"Sidebar menu icons\"})}),/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:app.collapsed,onChange:function onChange(checked){return dispatch(setCollapsed(checked));}})],children:/*#__PURE__*/_jsx(\"span\",{style:{flex:\"1 0\"},children:\"Collapsed sidebar menu\"})}),/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:app.weakColor,onChange:function onChange(checked){return dispatch(setWeakColor(checked));}})],children:/*#__PURE__*/_jsx(\"span\",{style:{flex:\"1 0\"},children:\"Weak colors\"})})]})]})});};","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/Components/SidebarMenu.tsx"],"names":["Avatar","Badge","Divider","Drawer","Dropdown","Layout","List","Menu","Popconfirm","Row","Switch","Tooltip","Book","LogOut","Triangle","Home","MessageCircle","Droplet","useEffect","useState","Link","useHistory","useLocation","useDispatch","capitalize","lowercase","StyledHeader","StyledSidebar","selectApp","setBoxed","setCollapsed","setDarkSidebar","setMobileDrawer","setSidebarIcons","setSidebarPopup","useAppSelector","setWeakColor","setOptionDrawer","SubMenu","Header","Sider","rootSubMenuKeys","getKey","name","index","string","key","replace","charAt","toLowerCase","slice","UserMenu","routes","path","icon","children","badge","value","ComponentSidebar","sidebarTheme","sidebarMode","sidebarIcons","collapsed","location","history","dispatch","app","openKeys","setOpenKeys","pathname","badgeTemplate","forEach","route","isCurrentPath","indexOf","push","onOpenChange","latestOpenKey","menu","flex","height","map","mobile","mobileDrawer","subitem","display","color","backgroundColor","overflow","flexDirection","optionDrawer","boxed","checked","darkSidebar","weakColor","sidebarPopup"],"mappings":"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","sourcesContent":["import {\n    Avatar,\n    Badge,\n    Divider,\n    Drawer,\n    Dropdown,\n    Layout,\n    List,\n    Menu,\n    Popconfirm,\n    Row,\n    Switch,\n    Tooltip,\n} from \"antd\";\nimport { Book, LogOut, Triangle, Home, MessageCircle, Droplet } from \"react-feather\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { MenuMode, MenuTheme } from \"antd/lib/menu\";\n\nimport { capitalize, lowercase } from \"@utils\";\nimport { StyledHeader, StyledSidebar } from \"@components\";\nimport {\n    selectApp,\n    setBoxed,\n    setCollapsed,\n    setDarkSidebar,\n    setMobileDrawer,\n    setSidebarIcons,\n    setSidebarPopup,\n    useAppSelector,\n    setWeakColor,\n    setOptionDrawer,\n} from \"@redux\";\n\nconst { SubMenu } = Menu;\nconst { Header, Sider } = Layout;\n\nconst rootSubMenuKeys: any[] = [];\n\nconst getKey = (name: string, index: number) => {\n    const string = `${name}-${index}`;\n    const key = string.replace(\" \", \"-\");\n    return key.charAt(0).toLowerCase() + key.slice(1);\n};\n\nconst UserMenu = (\n    <Menu>\n        <Menu.Item>Settings</Menu.Item>\n        <Menu.Item>Profile</Menu.Item>\n        <Menu.Item>Notifications</Menu.Item>\n    </Menu>\n);\n\ninterface ISideBarRoute {\n    path?: string;\n    name: string;\n    icon: JSX.Element;\n    children?: Array<{\n        path: string;\n        name: string;\n        badge?: {\n            value: string;\n        };\n    }>;\n    badge?: {\n        value: string;\n    };\n}\n\nconst routes: ISideBarRoute[] = [\n    {\n        path: \"/\",\n        name: \"Home\",\n        icon: <Home strokeWidth={1} size={16} />,\n    },\n    {\n        name: \"Apps\",\n        icon: <MessageCircle strokeWidth={1} size={16} />,\n        children: [\n            {\n                path: \"/apps/calendar\",\n                name: \"Calendar\",\n            },\n            {\n                path: \"/apps/messages\",\n                name: \"Messages\",\n            },\n            {\n                path: \"/apps/social\",\n                name: \"Social\",\n            },\n            {\n                path: \"/apps/chat\",\n                name: \"Chat\",\n            },\n        ],\n    },\n    {\n        path: \"/widgets\",\n        name: \"Widgets\",\n        icon: <Droplet strokeWidth={1} size={16} />,\n        badge: {\n            value: \"5\",\n        },\n    },\n];\n\ninterface IProps {\n    sidebarTheme: MenuTheme;\n    sidebarMode: MenuMode;\n    sidebarIcons: boolean;\n    collapsed: boolean;\n}\n\nexport const ComponentSidebar = ({\n    sidebarTheme,\n    sidebarMode,\n    sidebarIcons,\n    collapsed,\n}: IProps) => {\n    //hook\n    const location = useLocation();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    //redux state\n    const app = useAppSelector(selectApp);\n    //page state\n    const [openKeys, setOpenKeys] = useState<string[]>([]);\n    const pathname = location.pathname;\n\n    const badgeTemplate = (badge: { value: string }) => <Badge count={badge.value} />;\n\n    useEffect(() => {\n        routes.forEach((route, index) => {\n            const isCurrentPath = pathname.indexOf(lowercase(route.name)) > -1;\n            const key = getKey(route.name, index);\n            rootSubMenuKeys.push(key);\n            if (isCurrentPath) setOpenKeys([...openKeys, key]);\n        });\n    }, []);\n\n    const onOpenChange = (openKeys: string[]) => {\n        const latestOpenKey = openKeys.slice(-1);\n        if (rootSubMenuKeys.indexOf(latestOpenKey) === -1) {\n            setOpenKeys([...latestOpenKey]);\n        } else {\n            setOpenKeys(latestOpenKey ? [...latestOpenKey] : []);\n        }\n    };\n\n    const menu = (\n        <>\n            <Menu\n                theme={sidebarTheme}\n                className=\"border-0 scroll-y\"\n                style={{ flex: 1, height: \"100%\" }}\n                mode={sidebarMode}\n                openKeys={openKeys}\n                onOpenChange={onOpenChange}\n            >\n                {routes.map((route, index) => {\n                    if (!route.children) {\n                        return (\n                            <Menu.Item\n                                key={getKey(route.name, index)}\n                                className={pathname === route.path ? \"ant-menu-item-selected\" : \"\"}\n                                onClick={() => {\n                                    setOpenKeys([getKey(route.name, index)]);\n                                    if (app.mobile) dispatch(setMobileDrawer(!app.mobileDrawer));\n                                }}\n                            >\n                                <Link to={route.path || \"/\"}>\n                                    <a>\n                                        {sidebarIcons && (\n                                            <span className=\"anticon\">{route.icon}</span>\n                                        )}\n                                        <span className=\"mr-2\">{capitalize(route.name)}</span>\n                                        {route.badge && badgeTemplate(route.badge)}\n                                    </a>\n                                </Link>\n                            </Menu.Item>\n                        );\n                    } else {\n                        return (\n                            <SubMenu\n                                key={getKey(route.name, index)}\n                                title={\n                                    <span>\n                                        {sidebarIcons && (\n                                            <span className=\"anticon\">{route.icon}</span>\n                                        )}\n                                        <span>{capitalize(route.name)}</span>\n                                        {route.badge && badgeTemplate(route.badge)}\n                                    </span>\n                                }\n                            >\n                                {route.children.map((subitem, index) => (\n                                    <Menu.Item\n                                        key={getKey(subitem.name, index)}\n                                        className={\n                                            pathname === subitem.path\n                                                ? \"ant-menu-item-selected\"\n                                                : \"\"\n                                        }\n                                        onClick={() => {\n                                            if (app.mobile)\n                                                dispatch(setMobileDrawer(!app.mobileDrawer));\n                                        }}\n                                    >\n                                        <Link to={`${subitem.path || \"/\"}`}>\n                                            <a>\n                                                <span className=\"mr-auto\">\n                                                    {capitalize(subitem.name)}\n                                                </span>\n                                                {subitem.badge && badgeTemplate(subitem.badge)}\n                                            </a>\n                                        </Link>\n                                    </Menu.Item>\n                                ))}\n                            </SubMenu>\n                        );\n                    }\n                })}\n            </Menu>\n\n            <Divider\n                className={`m-0`}\n                style={{\n                    display: `${sidebarTheme === \"dark\" ? \"none\" : \"\"}`,\n                }}\n            />\n            <div className={`py-3 px-4 bg-${sidebarTheme}`}>\n                <Row type=\"flex\" align=\"middle\" justify=\"space-around\">\n                    <Dropdown overlay={UserMenu}>\n                        <span>\n                            <Badge\n                                count={6}\n                                overflowCount={5}\n                                style={{\n                                    color: \"rgb(245, 106, 0)\",\n                                    backgroundColor: \"rgb(253, 227, 207)\",\n                                }}\n                            >\n                                <Avatar shape=\"circle\" size={40} src=\"/static/images/avatar.jpg\" />\n                            </Badge>\n                        </span>\n                    </Dropdown>\n                    {!collapsed && (\n                        <>\n                            <span className=\"mr-auto\" />\n                            <Link to=\"https://one-readme.fusepx.com\">\n                                <a\n                                    className={`px-3 ${\n                                        sidebarTheme === \"dark\" ? \"text-white\" : \"text-body\"\n                                    }`}\n                                >\n                                    <Tooltip title=\"Help\">\n                                        <Book size={20} strokeWidth={1} />\n                                    </Tooltip>\n                                </a>\n                            </Link>\n\n                            <Popconfirm\n                                placement=\"top\"\n                                title=\"Are you sure you want to sign out?\"\n                                onConfirm={() => history.push(\"/signin\")}\n                                okText=\"Yes\"\n                                cancelText=\"Cancel\"\n                            >\n                                <a\n                                    className={`px-3 ${\n                                        sidebarTheme === \"dark\" ? \"text-white\" : \"text-body\"\n                                    }`}\n                                >\n                                    <LogOut size={20} strokeWidth={1} />\n                                </a>\n                            </Popconfirm>\n                        </>\n                    )}\n                </Row>\n            </div>\n        </>\n    );\n\n    return (\n        <>\n            <StyledSidebar>\n                {!app.mobile && (\n                    <Sider\n                        width={240}\n                        className={`bg-${sidebarTheme}`}\n                        theme={sidebarTheme}\n                        collapsed={collapsed}\n                    >\n                        {menu}\n                    </Sider>\n                )}\n\n                <Drawer\n                    closable={false}\n                    width={240}\n                    placement=\"left\"\n                    onClose={() => dispatch(setMobileDrawer(!app.mobileDrawer))}\n                    visible={app.mobileDrawer}\n                    className=\"chat-drawer\"\n                >\n                    <StyledSidebar>\n                        <div\n                            style={{\n                                overflow: \"hidden\",\n                                flex: \"1 1 auto\",\n                                flexDirection: \"column\",\n                                display: \"flex\",\n                                height: \"100vh\",\n                            }}\n                        >\n                            <StyledHeader>\n                                <Header>\n                                    <Link to=\"/\">\n                                        <a className=\"brand\">\n                                            <Triangle size={24} strokeWidth={1} />\n                                            <strong\n                                                className=\"mx-1\"\n                                                style={{\n                                                    display: \"inline\",\n                                                }}\n                                            >\n                                                Rewarding platform\n                                            </strong>\n                                        </a>\n                                    </Link>\n                                </Header>\n                            </StyledHeader>\n                            {menu}\n                        </div>\n                    </StyledSidebar>\n                </Drawer>\n\n                <Drawer\n                    title=\"Settings\"\n                    placement=\"right\"\n                    closable={true}\n                    width={300}\n                    onClose={() => dispatch(setOptionDrawer(!app.optionDrawer))}\n                    visible={app.optionDrawer}\n                >\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.boxed}\n                                onChange={(checked) => dispatch(setBoxed(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Boxed view\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.darkSidebar}\n                                disabled={app.weakColor}\n                                onChange={(checked) => dispatch(setDarkSidebar(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Dark sidebar menu\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.sidebarPopup}\n                                disabled={app.collapsed}\n                                onChange={(checked) => dispatch(setSidebarPopup(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Popup sub menus\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.sidebarIcons}\n                                disabled={app.collapsed}\n                                onChange={(checked) => dispatch(setSidebarIcons(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Sidebar menu icons\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.collapsed}\n                                onChange={(checked) => dispatch(setCollapsed(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Collapsed sidebar menu\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.weakColor}\n                                onChange={(checked) => dispatch(setWeakColor(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Weak colors\n                        </span>\n                    </List.Item>\n                </Drawer>\n            </StyledSidebar>\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}