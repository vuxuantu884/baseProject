{"ast":null,"code":"import{PATH_LINE_LOGIN}from\"./../Configs/routes\";import querystring from\"querystring\";import axios from\"axios\";var lineHeader=function lineHeader(baseURL){return{baseURL:baseURL,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},paramsSerializer:function paramsSerializer(params){return querystring.stringify(params);}};};export var LineApi=function LineApi(baseUrl){//hook state\nvar axiosClient=axios.create(lineHeader(baseUrl));return{login:function login(code){var url=\"/token\";//WHAT: login body\nvar redirectUrl=process.env.REACT_APP_WEB_URL+PATH_LINE_LOGIN;var grantType=\"authorization_code\";var clientId=process.env.REACT_APP_LINE_ID||\"\";var clientSecret=process.env.REACT_APP_LINE_SECRET||\"\";//WHAT: setup xxx-form-data body\nvar accessTokenBody=new URLSearchParams();accessTokenBody.append(\"grant_type\",grantType);accessTokenBody.append(\"code\",code);accessTokenBody.append(\"redirect_uri\",redirectUrl);accessTokenBody.append(\"client_id\",clientId);accessTokenBody.append(\"client_secret\",clientSecret);return axiosClient.post(url,accessTokenBody);}};};","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/API/line.ts"],"names":["PATH_LINE_LOGIN","querystring","axios","lineHeader","baseURL","headers","paramsSerializer","params","stringify","LineApi","baseUrl","axiosClient","create","login","code","url","redirectUrl","process","env","REACT_APP_WEB_URL","grantType","clientId","REACT_APP_LINE_ID","clientSecret","REACT_APP_LINE_SECRET","accessTokenBody","URLSearchParams","append","post"],"mappings":"AAAA,OAASA,eAAT,KAAgC,qBAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,aAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,QAAsB,CACrCA,OAAO,CAAPA,OADqC,CAErCC,OAAO,CAAE,CACL,eAAgB,mCADX,CAF4B,CAKrCC,gBAAgB,CAAE,0BAACC,MAAD,QAAiBN,CAAAA,WAAW,CAACO,SAAZ,CAAsBD,MAAtB,CAAjB,EALmB,CAAtB,EAAnB,CAQA,MAAO,IAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,OAAD,CAAqB,CACxC;AACA,GAAMC,CAAAA,WAAW,CAAGT,KAAK,CAACU,MAAN,CAAaT,UAAU,CAACO,OAAD,CAAvB,CAApB,CAEA,MAAO,CACHG,KAAK,CAAE,eAACC,IAAD,CAAkB,CACrB,GAAMC,CAAAA,GAAG,CAAG,QAAZ,CAEA;AACA,GAAMC,CAAAA,WAAW,CAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,CAAgCnB,eAApD,CACA,GAAMoB,CAAAA,SAAS,CAAG,oBAAlB,CACA,GAAMC,CAAAA,QAAQ,CAAGJ,OAAO,CAACC,GAAR,CAAYI,iBAAZ,EAAiC,EAAlD,CACA,GAAMC,CAAAA,YAAY,CAAGN,OAAO,CAACC,GAAR,CAAYM,qBAAZ,EAAqC,EAA1D,CAEA;AACA,GAAMC,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CACAD,eAAe,CAACE,MAAhB,CAAuB,YAAvB,CAAqCP,SAArC,EACAK,eAAe,CAACE,MAAhB,CAAuB,MAAvB,CAA+Bb,IAA/B,EACAW,eAAe,CAACE,MAAhB,CAAuB,cAAvB,CAAuCX,WAAvC,EACAS,eAAe,CAACE,MAAhB,CAAuB,WAAvB,CAAoCN,QAApC,EACAI,eAAe,CAACE,MAAhB,CAAuB,eAAvB,CAAwCJ,YAAxC,EAEA,MAAOZ,CAAAA,WAAW,CAACiB,IAAZ,CAAiBb,GAAjB,CAAsBU,eAAtB,CAAP,CACH,CAnBE,CAAP,CAqBH,CAzBM","sourcesContent":["import { PATH_LINE_LOGIN } from \"./../Configs/routes\";\nimport querystring from \"querystring\";\nimport axios from \"axios\";\n\nconst lineHeader = (baseURL: string) => ({\n    baseURL,\n    headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n    paramsSerializer: (params: any) => querystring.stringify(params),\n});\n\nexport const LineApi = (baseUrl: string) => {\n    //hook state\n    const axiosClient = axios.create(lineHeader(baseUrl));\n\n    return {\n        login: (code: string) => {\n            const url = \"/token\";\n\n            //WHAT: login body\n            const redirectUrl = process.env.REACT_APP_WEB_URL + PATH_LINE_LOGIN;\n            const grantType = \"authorization_code\";\n            const clientId = process.env.REACT_APP_LINE_ID || \"\";\n            const clientSecret = process.env.REACT_APP_LINE_SECRET || \"\";\n\n            //WHAT: setup xxx-form-data body\n            const accessTokenBody = new URLSearchParams();\n            accessTokenBody.append(\"grant_type\", grantType);\n            accessTokenBody.append(\"code\", code);\n            accessTokenBody.append(\"redirect_uri\", redirectUrl);\n            accessTokenBody.append(\"client_id\", clientId);\n            accessTokenBody.append(\"client_secret\", clientSecret);\n\n            return axiosClient.post(url, accessTokenBody);\n        },\n    };\n};\n"]},"metadata":{},"sourceType":"module"}