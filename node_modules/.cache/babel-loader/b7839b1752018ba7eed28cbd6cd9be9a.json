{"ast":null,"code":"var _jsxFileName = \"/home/vuxuantu/Desktop/rewarding-platform-client/src/Components/SidebarMenu.tsx\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Badge, Divider, Drawer, Dropdown, Layout, List, Menu, Popconfirm, Row, Switch, Tooltip } from \"antd\";\nimport { Book, LogOut, Triangle, Home, MessageCircle, Droplet } from \"react-feather\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { capitalize, lowercase } from \"@utils\";\nimport { StyledHeader, StyledSidebar } from \"@components\";\nimport { selectApp, setBoxed, setCollapsed, setDarkSidebar, setMobileDrawer, setSidebarIcons, setSidebarPopup, useAppSelector, setWeakColor, setOptionDrawer } from \"src/redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  SubMenu\n} = Menu;\nconst {\n  Header,\n  Sider\n} = Layout;\nconst rootSubMenuKeys = [];\n\nconst getKey = (name, index) => {\n  const string = `${name}-${index}`;\n  const key = string.replace(\" \", \"-\");\n  return key.charAt(0).toLowerCase() + key.slice(1);\n};\n\nconst UserMenu = /*#__PURE__*/_jsxDEV(Menu, {\n  children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n    children: \"Settings\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n    children: \"Profile\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n    children: \"Notifications\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 48,\n  columnNumber: 5\n}, this);\n\nconst routes = [{\n  path: \"/\",\n  name: \"Home\",\n  icon: /*#__PURE__*/_jsxDEV(Home, {\n    strokeWidth: 1,\n    size: 16\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 15\n  }, this)\n}, {\n  name: \"Apps\",\n  icon: /*#__PURE__*/_jsxDEV(MessageCircle, {\n    strokeWidth: 1,\n    size: 16\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 15\n  }, this),\n  children: [{\n    path: \"/apps/calendar\",\n    name: \"Calendar\"\n  }, {\n    path: \"/apps/messages\",\n    name: \"Messages\"\n  }, {\n    path: \"/apps/social\",\n    name: \"Social\"\n  }, {\n    path: \"/apps/chat\",\n    name: \"Chat\"\n  }]\n}, {\n  path: \"/widgets\",\n  name: \"Widgets\",\n  icon: /*#__PURE__*/_jsxDEV(Droplet, {\n    strokeWidth: 1,\n    size: 16\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 15\n  }, this),\n  badge: {\n    value: \"5\"\n  }\n}];\nexport const ComponentSidebar = _ref => {\n  _s();\n\n  let {\n    sidebarTheme,\n    sidebarMode,\n    sidebarIcons,\n    collapsed\n  } = _ref;\n  //hook\n  const location = useLocation();\n  const history = useHistory();\n  const dispatch = useDispatch(); //redux state\n\n  const app = useAppSelector(selectApp); //page state\n\n  const [openKeys, setOpenKeys] = useState([]);\n  const pathname = location.pathname;\n\n  const badgeTemplate = badge => /*#__PURE__*/_jsxDEV(Badge, {\n    count: badge.value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 57\n  }, this);\n\n  useEffect(() => {\n    routes.forEach((route, index) => {\n      const isCurrentPath = pathname.indexOf(lowercase(route.name)) > -1;\n      const key = getKey(route.name, index);\n      rootSubMenuKeys.push(key);\n      if (isCurrentPath) setOpenKeys([...openKeys, key]);\n    });\n  }, []);\n\n  const onOpenChange = openKeys => {\n    const latestOpenKey = openKeys.slice(-1);\n\n    if (rootSubMenuKeys.indexOf(latestOpenKey) === -1) {\n      setOpenKeys([...latestOpenKey]);\n    } else {\n      setOpenKeys(latestOpenKey ? [...latestOpenKey] : []);\n    }\n  };\n\n  const menu = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Menu, {\n      theme: sidebarTheme,\n      className: \"border-0 scroll-y\",\n      style: {\n        flex: 1,\n        height: \"100%\"\n      },\n      mode: sidebarMode,\n      openKeys: openKeys,\n      onOpenChange: onOpenChange,\n      children: routes.map((route, index) => {\n        if (!route.children) {\n          return /*#__PURE__*/_jsxDEV(Menu.Item, {\n            className: pathname === route.path ? \"ant-menu-item-selected\" : \"\",\n            onClick: () => {\n              setOpenKeys([getKey(route.name, index)]);\n              if (app.mobile) dispatch(setMobileDrawer(!app.mobileDrawer));\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: route.path || \"/\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: [sidebarIcons && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"anticon\",\n                  children: route.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mr-2\",\n                  children: capitalize(route.name)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 41\n                }, this), route.badge && badgeTemplate(route.badge)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 33\n            }, this)\n          }, getKey(route.name, index), false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(SubMenu, {\n            title: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [sidebarIcons && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"anticon\",\n                children: route.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: capitalize(route.name)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 41\n              }, this), route.badge && badgeTemplate(route.badge)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 37\n            }, this),\n            children: route.children.map((subitem, index) => /*#__PURE__*/_jsxDEV(Menu.Item, {\n              className: pathname === subitem.path ? \"ant-menu-item-selected\" : \"\",\n              onClick: () => {\n                if (app.mobile) dispatch(setMobileDrawer(!app.mobileDrawer));\n              },\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `${subitem.path || \"/\"}`,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mr-auto\",\n                    children: capitalize(subitem.name)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 49\n                  }, this), subitem.badge && badgeTemplate(subitem.badge)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 41\n              }, this)\n            }, getKey(subitem.name, index), false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 37\n            }, this))\n          }, getKey(route.name, index), false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 29\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      className: `m-0`,\n      style: {\n        display: `${sidebarTheme === \"dark\" ? \"none\" : \"\"}`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `py-3 px-4 bg-${sidebarTheme}`,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        type: \"flex\",\n        align: \"middle\",\n        justify: \"space-around\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n          overlay: UserMenu,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(Badge, {\n              count: 6,\n              overflowCount: 5,\n              style: {\n                color: \"rgb(245, 106, 0)\",\n                backgroundColor: \"rgb(253, 227, 207)\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                shape: \"circle\",\n                size: 40,\n                src: \"/static/images/avatar.jpg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this), !collapsed && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"https://one-readme.fusepx.com\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: `px-3 ${sidebarTheme === \"dark\" ? \"text-white\" : \"text-body\"}`,\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Help\",\n                children: /*#__PURE__*/_jsxDEV(Book, {\n                  size: 20,\n                  strokeWidth: 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n            placement: \"top\",\n            title: \"Are you sure you want to sign out?\",\n            onConfirm: () => history.push(\"/signin\"),\n            okText: \"Yes\",\n            cancelText: \"Cancel\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: `px-3 ${sidebarTheme === \"dark\" ? \"text-white\" : \"text-body\"}`,\n              children: /*#__PURE__*/_jsxDEV(LogOut, {\n                size: 20,\n                strokeWidth: 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(StyledSidebar, {\n      children: [!app.mobile && /*#__PURE__*/_jsxDEV(Sider, {\n        width: 240,\n        className: `bg-${sidebarTheme}`,\n        theme: sidebarTheme,\n        collapsed: collapsed,\n        children: menu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n        closable: false,\n        width: 240,\n        placement: \"left\",\n        onClose: () => dispatch(setMobileDrawer(!app.mobileDrawer)),\n        visible: app.mobileDrawer,\n        className: \"chat-drawer\",\n        children: /*#__PURE__*/_jsxDEV(StyledSidebar, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              overflow: \"hidden\",\n              flex: \"1 1 auto\",\n              flexDirection: \"column\",\n              display: \"flex\",\n              height: \"100vh\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(StyledHeader, {\n              children: /*#__PURE__*/_jsxDEV(Header, {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"brand\",\n                    children: [/*#__PURE__*/_jsxDEV(Triangle, {\n                      size: 24,\n                      strokeWidth: 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"mx-1\",\n                      style: {\n                        display: \"inline\"\n                      },\n                      children: \"Rewarding platform\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 29\n            }, this), menu]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n        title: \"Settings\",\n        placement: \"right\",\n        closable: true,\n        width: 300,\n        onClose: () => dispatch(setOptionDrawer(!app.optionDrawer)),\n        visible: app.optionDrawer,\n        children: [/*#__PURE__*/_jsxDEV(List.Item, {\n          actions: [/*#__PURE__*/_jsxDEV(Switch, {\n            size: \"small\",\n            checked: app.boxed,\n            onChange: checked => dispatch(setBoxed(checked))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 29\n          }, this)],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: \"1 0\"\n            },\n            children: \"Boxed view\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n          actions: [/*#__PURE__*/_jsxDEV(Switch, {\n            size: \"small\",\n            checked: app.darkSidebar,\n            disabled: app.weakColor,\n            onChange: checked => dispatch(setDarkSidebar(checked))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 29\n          }, this)],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: \"1 0\"\n            },\n            children: \"Dark sidebar menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n          actions: [/*#__PURE__*/_jsxDEV(Switch, {\n            size: \"small\",\n            checked: app.sidebarPopup,\n            disabled: app.collapsed,\n            onChange: checked => dispatch(setSidebarPopup(checked))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 29\n          }, this)],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: \"1 0\"\n            },\n            children: \"Popup sub menus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n          actions: [/*#__PURE__*/_jsxDEV(Switch, {\n            size: \"small\",\n            checked: app.sidebarIcons,\n            disabled: app.collapsed,\n            onChange: checked => dispatch(setSidebarIcons(checked))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 29\n          }, this)],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: \"1 0\"\n            },\n            children: \"Sidebar menu icons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n          actions: [/*#__PURE__*/_jsxDEV(Switch, {\n            size: \"small\",\n            checked: app.collapsed,\n            onChange: checked => dispatch(setCollapsed(checked))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 29\n          }, this)],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: \"1 0\"\n            },\n            children: \"Collapsed sidebar menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n          actions: [/*#__PURE__*/_jsxDEV(Switch, {\n            size: \"small\",\n            checked: app.weakColor,\n            onChange: checked => dispatch(setWeakColor(checked))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 29\n          }, this)],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: \"1 0\"\n            },\n            children: \"Weak colors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(ComponentSidebar, \"kgUnh27uZhpCpapfQVWwBb5VsLY=\", false, function () {\n  return [useLocation, useHistory, useDispatch, useAppSelector];\n});\n\n_c = ComponentSidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ComponentSidebar\");","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/Components/SidebarMenu.tsx"],"names":["Avatar","Badge","Divider","Drawer","Dropdown","Layout","List","Menu","Popconfirm","Row","Switch","Tooltip","Book","LogOut","Triangle","Home","MessageCircle","Droplet","useEffect","useState","Link","useHistory","useLocation","useDispatch","capitalize","lowercase","StyledHeader","StyledSidebar","selectApp","setBoxed","setCollapsed","setDarkSidebar","setMobileDrawer","setSidebarIcons","setSidebarPopup","useAppSelector","setWeakColor","setOptionDrawer","SubMenu","Header","Sider","rootSubMenuKeys","getKey","name","index","string","key","replace","charAt","toLowerCase","slice","UserMenu","routes","path","icon","children","badge","value","ComponentSidebar","sidebarTheme","sidebarMode","sidebarIcons","collapsed","location","history","dispatch","app","openKeys","setOpenKeys","pathname","badgeTemplate","forEach","route","isCurrentPath","indexOf","push","onOpenChange","latestOpenKey","menu","flex","height","map","mobile","mobileDrawer","subitem","display","color","backgroundColor","overflow","flexDirection","optionDrawer","boxed","checked","darkSidebar","weakColor","sidebarPopup"],"mappings":";;;AAAA,SACIA,MADJ,EAEIC,KAFJ,EAGIC,OAHJ,EAIIC,MAJJ,EAKIC,QALJ,EAMIC,MANJ,EAOIC,IAPJ,EAQIC,IARJ,EASIC,UATJ,EAUIC,GAVJ,EAWIC,MAXJ,EAYIC,OAZJ,QAaO,MAbP;AAcA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,QAAvB,EAAiCC,IAAjC,EAAuCC,aAAvC,EAAsDC,OAAtD,QAAqE,eAArE;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAASC,WAAT,QAA4B,aAA5B;AAGA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,QAAtC;AACA,SAASC,YAAT,EAAuBC,aAAvB,QAA4C,aAA5C;AACA,SACIC,SADJ,EAEIC,QAFJ,EAGIC,YAHJ,EAIIC,cAJJ,EAKIC,eALJ,EAMIC,eANJ,EAOIC,eAPJ,EAQIC,cARJ,EASIC,YATJ,EAUIC,eAVJ,QAWO,WAXP;;;AAaA,MAAM;AAAEC,EAAAA;AAAF,IAAc/B,IAApB;AACA,MAAM;AAAEgC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,IAAoBnC,MAA1B;AAEA,MAAMoC,eAAsB,GAAG,EAA/B;;AAEA,MAAMC,MAAM,GAAG,CAACC,IAAD,EAAeC,KAAf,KAAiC;AAC5C,QAAMC,MAAM,GAAI,GAAEF,IAAK,IAAGC,KAAM,EAAhC;AACA,QAAME,GAAG,GAAGD,MAAM,CAACE,OAAP,CAAe,GAAf,EAAoB,GAApB,CAAZ;AACA,SAAOD,GAAG,CAACE,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8BH,GAAG,CAACI,KAAJ,CAAU,CAAV,CAArC;AACH,CAJD;;AAMA,MAAMC,QAAQ,gBACV,QAAC,IAAD;AAAA,0BACI,QAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,eAEI,QAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,eAGI,QAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;;AAwBA,MAAMC,MAAuB,GAAG,CAC5B;AACIC,EAAAA,IAAI,EAAE,GADV;AAEIV,EAAAA,IAAI,EAAE,MAFV;AAGIW,EAAAA,IAAI,eAAE,QAAC,IAAD;AAAM,IAAA,WAAW,EAAE,CAAnB;AAAsB,IAAA,IAAI,EAAE;AAA5B;AAAA;AAAA;AAAA;AAAA;AAHV,CAD4B,EAM5B;AACIX,EAAAA,IAAI,EAAE,MADV;AAEIW,EAAAA,IAAI,eAAE,QAAC,aAAD;AAAe,IAAA,WAAW,EAAE,CAA5B;AAA+B,IAAA,IAAI,EAAE;AAArC;AAAA;AAAA;AAAA;AAAA,UAFV;AAGIC,EAAAA,QAAQ,EAAE,CACN;AACIF,IAAAA,IAAI,EAAE,gBADV;AAEIV,IAAAA,IAAI,EAAE;AAFV,GADM,EAKN;AACIU,IAAAA,IAAI,EAAE,gBADV;AAEIV,IAAAA,IAAI,EAAE;AAFV,GALM,EASN;AACIU,IAAAA,IAAI,EAAE,cADV;AAEIV,IAAAA,IAAI,EAAE;AAFV,GATM,EAaN;AACIU,IAAAA,IAAI,EAAE,YADV;AAEIV,IAAAA,IAAI,EAAE;AAFV,GAbM;AAHd,CAN4B,EA4B5B;AACIU,EAAAA,IAAI,EAAE,UADV;AAEIV,EAAAA,IAAI,EAAE,SAFV;AAGIW,EAAAA,IAAI,eAAE,QAAC,OAAD;AAAS,IAAA,WAAW,EAAE,CAAtB;AAAyB,IAAA,IAAI,EAAE;AAA/B;AAAA;AAAA;AAAA;AAAA,UAHV;AAIIE,EAAAA,KAAK,EAAE;AACHC,IAAAA,KAAK,EAAE;AADJ;AAJX,CA5B4B,CAAhC;AA6CA,OAAO,MAAMC,gBAAgB,GAAG,QAKlB;AAAA;;AAAA,MALmB;AAC7BC,IAAAA,YAD6B;AAE7BC,IAAAA,WAF6B;AAG7BC,IAAAA,YAH6B;AAI7BC,IAAAA;AAJ6B,GAKnB;AACV;AACA,QAAMC,QAAQ,GAAGzC,WAAW,EAA5B;AACA,QAAM0C,OAAO,GAAG3C,UAAU,EAA1B;AACA,QAAM4C,QAAQ,GAAG1C,WAAW,EAA5B,CAJU,CAKV;;AACA,QAAM2C,GAAG,GAAG/B,cAAc,CAACP,SAAD,CAA1B,CANU,CAOV;;AACA,QAAM,CAACuC,QAAD,EAAWC,WAAX,IAA0BjD,QAAQ,CAAW,EAAX,CAAxC;AACA,QAAMkD,QAAQ,GAAGN,QAAQ,CAACM,QAA1B;;AAEA,QAAMC,aAAa,GAAId,KAAD,iBAA8B,QAAC,KAAD;AAAO,IAAA,KAAK,EAAEA,KAAK,CAACC;AAApB;AAAA;AAAA;AAAA;AAAA,UAApD;;AAEAvC,EAAAA,SAAS,CAAC,MAAM;AACZkC,IAAAA,MAAM,CAACmB,OAAP,CAAe,CAACC,KAAD,EAAQ5B,KAAR,KAAkB;AAC7B,YAAM6B,aAAa,GAAGJ,QAAQ,CAACK,OAAT,CAAiBjD,SAAS,CAAC+C,KAAK,CAAC7B,IAAP,CAA1B,IAA0C,CAAC,CAAjE;AACA,YAAMG,GAAG,GAAGJ,MAAM,CAAC8B,KAAK,CAAC7B,IAAP,EAAaC,KAAb,CAAlB;AACAH,MAAAA,eAAe,CAACkC,IAAhB,CAAqB7B,GAArB;AACA,UAAI2B,aAAJ,EAAmBL,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcrB,GAAd,CAAD,CAAX;AACtB,KALD;AAMH,GAPQ,EAON,EAPM,CAAT;;AASA,QAAM8B,YAAY,GAAIT,QAAD,IAAwB;AACzC,UAAMU,aAAa,GAAGV,QAAQ,CAACjB,KAAT,CAAe,CAAC,CAAhB,CAAtB;;AACA,QAAIT,eAAe,CAACiC,OAAhB,CAAwBG,aAAxB,MAA2C,CAAC,CAAhD,EAAmD;AAC/CT,MAAAA,WAAW,CAAC,CAAC,GAAGS,aAAJ,CAAD,CAAX;AACH,KAFD,MAEO;AACHT,MAAAA,WAAW,CAACS,aAAa,GAAG,CAAC,GAAGA,aAAJ,CAAH,GAAwB,EAAtC,CAAX;AACH;AACJ,GAPD;;AASA,QAAMC,IAAI,gBACN;AAAA,4BACI,QAAC,IAAD;AACI,MAAA,KAAK,EAAEnB,YADX;AAEI,MAAA,SAAS,EAAC,mBAFd;AAGI,MAAA,KAAK,EAAE;AAAEoB,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,MAAM,EAAE;AAAnB,OAHX;AAII,MAAA,IAAI,EAAEpB,WAJV;AAKI,MAAA,QAAQ,EAAEO,QALd;AAMI,MAAA,YAAY,EAAES,YANlB;AAAA,gBAQKxB,MAAM,CAAC6B,GAAP,CAAW,CAACT,KAAD,EAAQ5B,KAAR,KAAkB;AAC1B,YAAI,CAAC4B,KAAK,CAACjB,QAAX,EAAqB;AACjB,8BACI,QAAC,IAAD,CAAM,IAAN;AAEI,YAAA,SAAS,EAAEc,QAAQ,KAAKG,KAAK,CAACnB,IAAnB,GAA0B,wBAA1B,GAAqD,EAFpE;AAGI,YAAA,OAAO,EAAE,MAAM;AACXe,cAAAA,WAAW,CAAC,CAAC1B,MAAM,CAAC8B,KAAK,CAAC7B,IAAP,EAAaC,KAAb,CAAP,CAAD,CAAX;AACA,kBAAIsB,GAAG,CAACgB,MAAR,EAAgBjB,QAAQ,CAACjC,eAAe,CAAC,CAACkC,GAAG,CAACiB,YAAN,CAAhB,CAAR;AACnB,aANL;AAAA,mCAQI,QAAC,IAAD;AAAM,cAAA,EAAE,EAAEX,KAAK,CAACnB,IAAN,IAAc,GAAxB;AAAA,qCACI;AAAA,2BACKQ,YAAY,iBACT;AAAM,kBAAA,SAAS,EAAC,SAAhB;AAAA,4BAA2BW,KAAK,CAAClB;AAAjC;AAAA;AAAA;AAAA;AAAA,wBAFR,eAII;AAAM,kBAAA,SAAS,EAAC,MAAhB;AAAA,4BAAwB9B,UAAU,CAACgD,KAAK,CAAC7B,IAAP;AAAlC;AAAA;AAAA;AAAA;AAAA,wBAJJ,EAKK6B,KAAK,CAAChB,KAAN,IAAec,aAAa,CAACE,KAAK,CAAChB,KAAP,CALjC;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AARJ,aACSd,MAAM,CAAC8B,KAAK,CAAC7B,IAAP,EAAaC,KAAb,CADf;AAAA;AAAA;AAAA;AAAA,kBADJ;AAoBH,SArBD,MAqBO;AACH,8BACI,QAAC,OAAD;AAEI,YAAA,KAAK,eACD;AAAA,yBACKiB,YAAY,iBACT;AAAM,gBAAA,SAAS,EAAC,SAAhB;AAAA,0BAA2BW,KAAK,CAAClB;AAAjC;AAAA;AAAA;AAAA;AAAA,sBAFR,eAII;AAAA,0BAAO9B,UAAU,CAACgD,KAAK,CAAC7B,IAAP;AAAjB;AAAA;AAAA;AAAA;AAAA,sBAJJ,EAKK6B,KAAK,CAAChB,KAAN,IAAec,aAAa,CAACE,KAAK,CAAChB,KAAP,CALjC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHR;AAAA,sBAYKgB,KAAK,CAACjB,QAAN,CAAe0B,GAAf,CAAmB,CAACG,OAAD,EAAUxC,KAAV,kBAChB,QAAC,IAAD,CAAM,IAAN;AAEI,cAAA,SAAS,EACLyB,QAAQ,KAAKe,OAAO,CAAC/B,IAArB,GACM,wBADN,GAEM,EALd;AAOI,cAAA,OAAO,EAAE,MAAM;AACX,oBAAIa,GAAG,CAACgB,MAAR,EACIjB,QAAQ,CAACjC,eAAe,CAAC,CAACkC,GAAG,CAACiB,YAAN,CAAhB,CAAR;AACP,eAVL;AAAA,qCAYI,QAAC,IAAD;AAAM,gBAAA,EAAE,EAAG,GAAEC,OAAO,CAAC/B,IAAR,IAAgB,GAAI,EAAjC;AAAA,uCACI;AAAA,0CACI;AAAM,oBAAA,SAAS,EAAC,SAAhB;AAAA,8BACK7B,UAAU,CAAC4D,OAAO,CAACzC,IAAT;AADf;AAAA;AAAA;AAAA;AAAA,0BADJ,EAIKyC,OAAO,CAAC5B,KAAR,IAAiBc,aAAa,CAACc,OAAO,CAAC5B,KAAT,CAJnC;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAZJ,eACSd,MAAM,CAAC0C,OAAO,CAACzC,IAAT,EAAeC,KAAf,CADf;AAAA;AAAA;AAAA;AAAA,oBADH;AAZL,aACSF,MAAM,CAAC8B,KAAK,CAAC7B,IAAP,EAAaC,KAAb,CADf;AAAA;AAAA;AAAA;AAAA,kBADJ;AAsCH;AACJ,OA9DA;AARL;AAAA;AAAA;AAAA;AAAA,YADJ,eA0EI,QAAC,OAAD;AACI,MAAA,SAAS,EAAG,KADhB;AAEI,MAAA,KAAK,EAAE;AACHyC,QAAAA,OAAO,EAAG,GAAE1B,YAAY,KAAK,MAAjB,GAA0B,MAA1B,GAAmC,EAAG;AAD/C;AAFX;AAAA;AAAA;AAAA;AAAA,YA1EJ,eAgFI;AAAK,MAAA,SAAS,EAAG,gBAAeA,YAAa,EAA7C;AAAA,6BACI,QAAC,GAAD;AAAK,QAAA,IAAI,EAAC,MAAV;AAAiB,QAAA,KAAK,EAAC,QAAvB;AAAgC,QAAA,OAAO,EAAC,cAAxC;AAAA,gCACI,QAAC,QAAD;AAAU,UAAA,OAAO,EAAER,QAAnB;AAAA,iCACI;AAAA,mCACI,QAAC,KAAD;AACI,cAAA,KAAK,EAAE,CADX;AAEI,cAAA,aAAa,EAAE,CAFnB;AAGI,cAAA,KAAK,EAAE;AACHmC,gBAAAA,KAAK,EAAE,kBADJ;AAEHC,gBAAAA,eAAe,EAAE;AAFd,eAHX;AAAA,qCAQI,QAAC,MAAD;AAAQ,gBAAA,KAAK,EAAC,QAAd;AAAuB,gBAAA,IAAI,EAAE,EAA7B;AAAiC,gBAAA,GAAG,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,EAeK,CAACzB,SAAD,iBACG;AAAA,kCACI;AAAM,YAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,+BAAT;AAAA,mCACI;AACI,cAAA,SAAS,EAAG,QACRH,YAAY,KAAK,MAAjB,GAA0B,YAA1B,GAAyC,WAC5C,EAHL;AAAA,qCAKI,QAAC,OAAD;AAAS,gBAAA,KAAK,EAAC,MAAf;AAAA,uCACI,QAAC,IAAD;AAAM,kBAAA,IAAI,EAAE,EAAZ;AAAgB,kBAAA,WAAW,EAAE;AAA7B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAcI,QAAC,UAAD;AACI,YAAA,SAAS,EAAC,KADd;AAEI,YAAA,KAAK,EAAC,oCAFV;AAGI,YAAA,SAAS,EAAE,MAAMK,OAAO,CAACW,IAAR,CAAa,SAAb,CAHrB;AAII,YAAA,MAAM,EAAC,KAJX;AAKI,YAAA,UAAU,EAAC,QALf;AAAA,mCAOI;AACI,cAAA,SAAS,EAAG,QACRhB,YAAY,KAAK,MAAjB,GAA0B,YAA1B,GAAyC,WAC5C,EAHL;AAAA,qCAKI,QAAC,MAAD;AAAQ,gBAAA,IAAI,EAAE,EAAd;AAAkB,gBAAA,WAAW,EAAE;AAA/B;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,kBAdJ;AAAA,wBAhBR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAhFJ;AAAA,kBADJ;;AAsIA,sBACI;AAAA,2BACI,QAAC,aAAD;AAAA,iBACK,CAACO,GAAG,CAACgB,MAAL,iBACG,QAAC,KAAD;AACI,QAAA,KAAK,EAAE,GADX;AAEI,QAAA,SAAS,EAAG,MAAKvB,YAAa,EAFlC;AAGI,QAAA,KAAK,EAAEA,YAHX;AAII,QAAA,SAAS,EAAEG,SAJf;AAAA,kBAMKgB;AANL;AAAA;AAAA;AAAA;AAAA,cAFR,eAYI,QAAC,MAAD;AACI,QAAA,QAAQ,EAAE,KADd;AAEI,QAAA,KAAK,EAAE,GAFX;AAGI,QAAA,SAAS,EAAC,MAHd;AAII,QAAA,OAAO,EAAE,MAAMb,QAAQ,CAACjC,eAAe,CAAC,CAACkC,GAAG,CAACiB,YAAN,CAAhB,CAJ3B;AAKI,QAAA,OAAO,EAAEjB,GAAG,CAACiB,YALjB;AAMI,QAAA,SAAS,EAAC,aANd;AAAA,+BAQI,QAAC,aAAD;AAAA,iCACI;AACI,YAAA,KAAK,EAAE;AACHK,cAAAA,QAAQ,EAAE,QADP;AAEHT,cAAAA,IAAI,EAAE,UAFH;AAGHU,cAAAA,aAAa,EAAE,QAHZ;AAIHJ,cAAAA,OAAO,EAAE,MAJN;AAKHL,cAAAA,MAAM,EAAE;AALL,aADX;AAAA,oCASI,QAAC,YAAD;AAAA,qCACI,QAAC,MAAD;AAAA,uCACI,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAC,GAAT;AAAA,yCACI;AAAG,oBAAA,SAAS,EAAC,OAAb;AAAA,4CACI,QAAC,QAAD;AAAU,sBAAA,IAAI,EAAE,EAAhB;AAAoB,sBAAA,WAAW,EAAE;AAAjC;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AACI,sBAAA,SAAS,EAAC,MADd;AAEI,sBAAA,KAAK,EAAE;AACHK,wBAAAA,OAAO,EAAE;AADN,uBAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBATJ,EA0BKP,IA1BL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA,cAZJ,eAoDI,QAAC,MAAD;AACI,QAAA,KAAK,EAAC,UADV;AAEI,QAAA,SAAS,EAAC,OAFd;AAGI,QAAA,QAAQ,EAAE,IAHd;AAII,QAAA,KAAK,EAAE,GAJX;AAKI,QAAA,OAAO,EAAE,MAAMb,QAAQ,CAAC5B,eAAe,CAAC,CAAC6B,GAAG,CAACwB,YAAN,CAAhB,CAL3B;AAMI,QAAA,OAAO,EAAExB,GAAG,CAACwB,YANjB;AAAA,gCAQI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,OAAO,EAAE,cACL,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,YAAA,OAAO,EAAExB,GAAG,CAACyB,KAFjB;AAGI,YAAA,QAAQ,EAAGC,OAAD,IAAa3B,QAAQ,CAACpC,QAAQ,CAAC+D,OAAD,CAAT;AAHnC;AAAA;AAAA;AAAA;AAAA,kBADK,CADb;AAAA,iCASI;AACI,YAAA,KAAK,EAAE;AACHb,cAAAA,IAAI,EAAE;AADH,aADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,gBARJ,eAyBI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,OAAO,EAAE,cACL,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,YAAA,OAAO,EAAEb,GAAG,CAAC2B,WAFjB;AAGI,YAAA,QAAQ,EAAE3B,GAAG,CAAC4B,SAHlB;AAII,YAAA,QAAQ,EAAGF,OAAD,IAAa3B,QAAQ,CAAClC,cAAc,CAAC6D,OAAD,CAAf;AAJnC;AAAA;AAAA;AAAA;AAAA,kBADK,CADb;AAAA,iCAUI;AACI,YAAA,KAAK,EAAE;AACHb,cAAAA,IAAI,EAAE;AADH,aADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA,gBAzBJ,eA2CI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,OAAO,EAAE,cACL,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,YAAA,OAAO,EAAEb,GAAG,CAAC6B,YAFjB;AAGI,YAAA,QAAQ,EAAE7B,GAAG,CAACJ,SAHlB;AAII,YAAA,QAAQ,EAAG8B,OAAD,IAAa3B,QAAQ,CAAC/B,eAAe,CAAC0D,OAAD,CAAhB;AAJnC;AAAA;AAAA;AAAA;AAAA,kBADK,CADb;AAAA,iCAUI;AACI,YAAA,KAAK,EAAE;AACHb,cAAAA,IAAI,EAAE;AADH,aADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA,gBA3CJ,eA6DI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,OAAO,EAAE,cACL,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,YAAA,OAAO,EAAEb,GAAG,CAACL,YAFjB;AAGI,YAAA,QAAQ,EAAEK,GAAG,CAACJ,SAHlB;AAII,YAAA,QAAQ,EAAG8B,OAAD,IAAa3B,QAAQ,CAAChC,eAAe,CAAC2D,OAAD,CAAhB;AAJnC;AAAA;AAAA;AAAA;AAAA,kBADK,CADb;AAAA,iCAUI;AACI,YAAA,KAAK,EAAE;AACHb,cAAAA,IAAI,EAAE;AADH,aADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA,gBA7DJ,eA+EI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,OAAO,EAAE,cACL,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,YAAA,OAAO,EAAEb,GAAG,CAACJ,SAFjB;AAGI,YAAA,QAAQ,EAAG8B,OAAD,IAAa3B,QAAQ,CAACnC,YAAY,CAAC8D,OAAD,CAAb;AAHnC;AAAA;AAAA;AAAA;AAAA,kBADK,CADb;AAAA,iCASI;AACI,YAAA,KAAK,EAAE;AACHb,cAAAA,IAAI,EAAE;AADH,aADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,gBA/EJ,eAgGI,QAAC,IAAD,CAAM,IAAN;AACI,UAAA,OAAO,EAAE,cACL,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,YAAA,OAAO,EAAEb,GAAG,CAAC4B,SAFjB;AAGI,YAAA,QAAQ,EAAGF,OAAD,IAAa3B,QAAQ,CAAC7B,YAAY,CAACwD,OAAD,CAAb;AAHnC;AAAA;AAAA;AAAA;AAAA,kBADK,CADb;AAAA,iCASI;AACI,YAAA,KAAK,EAAE;AACHb,cAAAA,IAAI,EAAE;AADH,aADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,gBAhGJ;AAAA;AAAA;AAAA;AAAA;AAAA,cApDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AA2KH,CArVM;;GAAMrB,gB;UAOQpC,W,EACDD,U,EACCE,W,EAELY,c;;;KAXHuB,gB","sourcesContent":["import {\n    Avatar,\n    Badge,\n    Divider,\n    Drawer,\n    Dropdown,\n    Layout,\n    List,\n    Menu,\n    Popconfirm,\n    Row,\n    Switch,\n    Tooltip,\n} from \"antd\";\nimport { Book, LogOut, Triangle, Home, MessageCircle, Droplet } from \"react-feather\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { MenuMode, MenuTheme } from \"antd/lib/menu\";\n\nimport { capitalize, lowercase } from \"@utils\";\nimport { StyledHeader, StyledSidebar } from \"@components\";\nimport {\n    selectApp,\n    setBoxed,\n    setCollapsed,\n    setDarkSidebar,\n    setMobileDrawer,\n    setSidebarIcons,\n    setSidebarPopup,\n    useAppSelector,\n    setWeakColor,\n    setOptionDrawer,\n} from \"src/redux\";\n\nconst { SubMenu } = Menu;\nconst { Header, Sider } = Layout;\n\nconst rootSubMenuKeys: any[] = [];\n\nconst getKey = (name: string, index: number) => {\n    const string = `${name}-${index}`;\n    const key = string.replace(\" \", \"-\");\n    return key.charAt(0).toLowerCase() + key.slice(1);\n};\n\nconst UserMenu = (\n    <Menu>\n        <Menu.Item>Settings</Menu.Item>\n        <Menu.Item>Profile</Menu.Item>\n        <Menu.Item>Notifications</Menu.Item>\n    </Menu>\n);\n\ninterface ISideBarRoute {\n    path?: string;\n    name: string;\n    icon: JSX.Element;\n    children?: Array<{\n        path: string;\n        name: string;\n        badge?: {\n            value: string;\n        };\n    }>;\n    badge?: {\n        value: string;\n    };\n}\n\nconst routes: ISideBarRoute[] = [\n    {\n        path: \"/\",\n        name: \"Home\",\n        icon: <Home strokeWidth={1} size={16} />,\n    },\n    {\n        name: \"Apps\",\n        icon: <MessageCircle strokeWidth={1} size={16} />,\n        children: [\n            {\n                path: \"/apps/calendar\",\n                name: \"Calendar\",\n            },\n            {\n                path: \"/apps/messages\",\n                name: \"Messages\",\n            },\n            {\n                path: \"/apps/social\",\n                name: \"Social\",\n            },\n            {\n                path: \"/apps/chat\",\n                name: \"Chat\",\n            },\n        ],\n    },\n    {\n        path: \"/widgets\",\n        name: \"Widgets\",\n        icon: <Droplet strokeWidth={1} size={16} />,\n        badge: {\n            value: \"5\",\n        },\n    },\n];\n\ninterface IProps {\n    sidebarTheme: MenuTheme;\n    sidebarMode: MenuMode;\n    sidebarIcons: boolean;\n    collapsed: boolean;\n}\n\nexport const ComponentSidebar = ({\n    sidebarTheme,\n    sidebarMode,\n    sidebarIcons,\n    collapsed,\n}: IProps) => {\n    //hook\n    const location = useLocation();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    //redux state\n    const app = useAppSelector(selectApp);\n    //page state\n    const [openKeys, setOpenKeys] = useState<string[]>([]);\n    const pathname = location.pathname;\n\n    const badgeTemplate = (badge: { value: string }) => <Badge count={badge.value} />;\n\n    useEffect(() => {\n        routes.forEach((route, index) => {\n            const isCurrentPath = pathname.indexOf(lowercase(route.name)) > -1;\n            const key = getKey(route.name, index);\n            rootSubMenuKeys.push(key);\n            if (isCurrentPath) setOpenKeys([...openKeys, key]);\n        });\n    }, []);\n\n    const onOpenChange = (openKeys: string[]) => {\n        const latestOpenKey = openKeys.slice(-1);\n        if (rootSubMenuKeys.indexOf(latestOpenKey) === -1) {\n            setOpenKeys([...latestOpenKey]);\n        } else {\n            setOpenKeys(latestOpenKey ? [...latestOpenKey] : []);\n        }\n    };\n\n    const menu = (\n        <>\n            <Menu\n                theme={sidebarTheme}\n                className=\"border-0 scroll-y\"\n                style={{ flex: 1, height: \"100%\" }}\n                mode={sidebarMode}\n                openKeys={openKeys}\n                onOpenChange={onOpenChange}\n            >\n                {routes.map((route, index) => {\n                    if (!route.children) {\n                        return (\n                            <Menu.Item\n                                key={getKey(route.name, index)}\n                                className={pathname === route.path ? \"ant-menu-item-selected\" : \"\"}\n                                onClick={() => {\n                                    setOpenKeys([getKey(route.name, index)]);\n                                    if (app.mobile) dispatch(setMobileDrawer(!app.mobileDrawer));\n                                }}\n                            >\n                                <Link to={route.path || \"/\"}>\n                                    <a>\n                                        {sidebarIcons && (\n                                            <span className=\"anticon\">{route.icon}</span>\n                                        )}\n                                        <span className=\"mr-2\">{capitalize(route.name)}</span>\n                                        {route.badge && badgeTemplate(route.badge)}\n                                    </a>\n                                </Link>\n                            </Menu.Item>\n                        );\n                    } else {\n                        return (\n                            <SubMenu\n                                key={getKey(route.name, index)}\n                                title={\n                                    <span>\n                                        {sidebarIcons && (\n                                            <span className=\"anticon\">{route.icon}</span>\n                                        )}\n                                        <span>{capitalize(route.name)}</span>\n                                        {route.badge && badgeTemplate(route.badge)}\n                                    </span>\n                                }\n                            >\n                                {route.children.map((subitem, index) => (\n                                    <Menu.Item\n                                        key={getKey(subitem.name, index)}\n                                        className={\n                                            pathname === subitem.path\n                                                ? \"ant-menu-item-selected\"\n                                                : \"\"\n                                        }\n                                        onClick={() => {\n                                            if (app.mobile)\n                                                dispatch(setMobileDrawer(!app.mobileDrawer));\n                                        }}\n                                    >\n                                        <Link to={`${subitem.path || \"/\"}`}>\n                                            <a>\n                                                <span className=\"mr-auto\">\n                                                    {capitalize(subitem.name)}\n                                                </span>\n                                                {subitem.badge && badgeTemplate(subitem.badge)}\n                                            </a>\n                                        </Link>\n                                    </Menu.Item>\n                                ))}\n                            </SubMenu>\n                        );\n                    }\n                })}\n            </Menu>\n\n            <Divider\n                className={`m-0`}\n                style={{\n                    display: `${sidebarTheme === \"dark\" ? \"none\" : \"\"}`,\n                }}\n            />\n            <div className={`py-3 px-4 bg-${sidebarTheme}`}>\n                <Row type=\"flex\" align=\"middle\" justify=\"space-around\">\n                    <Dropdown overlay={UserMenu}>\n                        <span>\n                            <Badge\n                                count={6}\n                                overflowCount={5}\n                                style={{\n                                    color: \"rgb(245, 106, 0)\",\n                                    backgroundColor: \"rgb(253, 227, 207)\",\n                                }}\n                            >\n                                <Avatar shape=\"circle\" size={40} src=\"/static/images/avatar.jpg\" />\n                            </Badge>\n                        </span>\n                    </Dropdown>\n                    {!collapsed && (\n                        <>\n                            <span className=\"mr-auto\" />\n                            <Link to=\"https://one-readme.fusepx.com\">\n                                <a\n                                    className={`px-3 ${\n                                        sidebarTheme === \"dark\" ? \"text-white\" : \"text-body\"\n                                    }`}\n                                >\n                                    <Tooltip title=\"Help\">\n                                        <Book size={20} strokeWidth={1} />\n                                    </Tooltip>\n                                </a>\n                            </Link>\n\n                            <Popconfirm\n                                placement=\"top\"\n                                title=\"Are you sure you want to sign out?\"\n                                onConfirm={() => history.push(\"/signin\")}\n                                okText=\"Yes\"\n                                cancelText=\"Cancel\"\n                            >\n                                <a\n                                    className={`px-3 ${\n                                        sidebarTheme === \"dark\" ? \"text-white\" : \"text-body\"\n                                    }`}\n                                >\n                                    <LogOut size={20} strokeWidth={1} />\n                                </a>\n                            </Popconfirm>\n                        </>\n                    )}\n                </Row>\n            </div>\n        </>\n    );\n\n    return (\n        <>\n            <StyledSidebar>\n                {!app.mobile && (\n                    <Sider\n                        width={240}\n                        className={`bg-${sidebarTheme}`}\n                        theme={sidebarTheme}\n                        collapsed={collapsed}\n                    >\n                        {menu}\n                    </Sider>\n                )}\n\n                <Drawer\n                    closable={false}\n                    width={240}\n                    placement=\"left\"\n                    onClose={() => dispatch(setMobileDrawer(!app.mobileDrawer))}\n                    visible={app.mobileDrawer}\n                    className=\"chat-drawer\"\n                >\n                    <StyledSidebar>\n                        <div\n                            style={{\n                                overflow: \"hidden\",\n                                flex: \"1 1 auto\",\n                                flexDirection: \"column\",\n                                display: \"flex\",\n                                height: \"100vh\",\n                            }}\n                        >\n                            <StyledHeader>\n                                <Header>\n                                    <Link to=\"/\">\n                                        <a className=\"brand\">\n                                            <Triangle size={24} strokeWidth={1} />\n                                            <strong\n                                                className=\"mx-1\"\n                                                style={{\n                                                    display: \"inline\",\n                                                }}\n                                            >\n                                                Rewarding platform\n                                            </strong>\n                                        </a>\n                                    </Link>\n                                </Header>\n                            </StyledHeader>\n                            {menu}\n                        </div>\n                    </StyledSidebar>\n                </Drawer>\n\n                <Drawer\n                    title=\"Settings\"\n                    placement=\"right\"\n                    closable={true}\n                    width={300}\n                    onClose={() => dispatch(setOptionDrawer(!app.optionDrawer))}\n                    visible={app.optionDrawer}\n                >\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.boxed}\n                                onChange={(checked) => dispatch(setBoxed(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Boxed view\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.darkSidebar}\n                                disabled={app.weakColor}\n                                onChange={(checked) => dispatch(setDarkSidebar(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Dark sidebar menu\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.sidebarPopup}\n                                disabled={app.collapsed}\n                                onChange={(checked) => dispatch(setSidebarPopup(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Popup sub menus\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.sidebarIcons}\n                                disabled={app.collapsed}\n                                onChange={(checked) => dispatch(setSidebarIcons(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Sidebar menu icons\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.collapsed}\n                                onChange={(checked) => dispatch(setCollapsed(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Collapsed sidebar menu\n                        </span>\n                    </List.Item>\n                    <List.Item\n                        actions={[\n                            <Switch\n                                size=\"small\"\n                                checked={app.weakColor}\n                                onChange={(checked) => dispatch(setWeakColor(checked))}\n                            />,\n                        ]}\n                    >\n                        <span\n                            style={{\n                                flex: \"1 0\",\n                            }}\n                        >\n                            Weak colors\n                        </span>\n                    </List.Item>\n                </Drawer>\n            </StyledSidebar>\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}