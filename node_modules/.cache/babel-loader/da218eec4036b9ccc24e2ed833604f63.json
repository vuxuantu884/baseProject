{"ast":null,"code":"import axios from \"axios\";\n\nconst queryString = require(\"query-string\");\n\nimport { store } from \"@redux\";\nconst axiosClient = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"X-Requested-With\": \"XMLHttpRequest\"\n  },\n  paramsSerializer: params => queryString.stringify(params)\n});\naxiosClient.interceptors.request.use(config => {\n  var _store$getState$auth$;\n\n  // const token = await getFirebaseToken();\n  // if (token) {\n  //   config.headers.Authorization = `Bearer ${token}`;\n  // }\n  const token = (_store$getState$auth$ = store.getState().auth.auth) === null || _store$getState$auth$ === void 0 ? void 0 : _store$getState$auth$.accessToken;\n  config.headers[\"access-token\"] = token;\n  config.headers[enumHttpHeader.ClientId] = enumClientIdEnum.MERCHANT;\n  return config;\n});\naxiosClient.interceptors.response.use(response => {\n  if (response && response.data) {\n    return response;\n  }\n\n  return response;\n}, error => {\n  // Handle errors\n  if (error.response && error.response.status === 401) {//logout\n  }\n\n  throw error;\n});\nexport default axiosClient;","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/API/axiosClient.ts"],"names":["axios","queryString","require","store","axiosClient","create","baseURL","process","env","REACT_APP_API_URL","headers","paramsSerializer","params","stringify","interceptors","request","use","config","token","getState","auth","accessToken","enumHttpHeader","ClientId","enumClientIdEnum","MERCHANT","response","data","error","status"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,cAAD,CAA3B;;AAEA,SAASC,KAAT,QAAsB,QAAtB;AAGA,MAAMC,WAAW,GAAGJ,KAAK,CAACK,MAAN,CAAa;AAC7BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBADQ;AAG7BC,EAAAA,OAAO,EAAE;AACL,oBAAgB,kBADX;AAEL,wBAAoB;AAFf,GAHoB;AAQ7BC,EAAAA,gBAAgB,EAAGC,MAAD,IAAYX,WAAW,CAACY,SAAZ,CAAsBD,MAAtB;AARD,CAAb,CAApB;AAYAR,WAAW,CAACU,YAAZ,CAAyBC,OAAzB,CAAiCC,GAAjC,CAAsCC,MAAD,IAAY;AAAA;;AAC7C;AACA;AACA;AACA;AACA,QAAMC,KAAK,4BAAGf,KAAK,CAACgB,QAAN,GAAiBC,IAAjB,CAAsBA,IAAzB,0DAAG,sBAA4BC,WAA1C;AACAJ,EAAAA,MAAM,CAACP,OAAP,CAAe,cAAf,IAAiCQ,KAAjC;AACAD,EAAAA,MAAM,CAACP,OAAP,CAAeY,cAAc,CAACC,QAA9B,IAA0CC,gBAAgB,CAACC,QAA3D;AAEA,SAAOR,MAAP;AACH,CAVD;AAYAb,WAAW,CAACU,YAAZ,CAAyBY,QAAzB,CAAkCV,GAAlC,CACKU,QAAD,IAAc;AACV,MAAIA,QAAQ,IAAIA,QAAQ,CAACC,IAAzB,EAA+B;AAC3B,WAAOD,QAAP;AACH;;AACD,SAAOA,QAAP;AACH,CANL,EAQKE,KAAD,IAAiB;AACb;AACA,MAAIA,KAAK,CAACF,QAAN,IAAkBE,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAAhD,EAAqD,CACjD;AACH;;AACD,QAAMD,KAAN;AACH,CAdL;AAiBA,eAAexB,WAAf","sourcesContent":["import axios from \"axios\";\nconst queryString = require(\"query-string\");\n\nimport { store } from \"@redux\";\n\n\nconst axiosClient = axios.create({\n    baseURL: process.env.REACT_APP_API_URL,\n\n    headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Requested-With\": \"XMLHttpRequest\",\n    },\n\n    paramsSerializer: (params) => queryString.stringify(params),\n    \n});\n\naxiosClient.interceptors.request.use((config) => {\n    // const token = await getFirebaseToken();\n    // if (token) {\n    //   config.headers.Authorization = `Bearer ${token}`;\n    // }\n    const token = store.getState().auth.auth?.accessToken;\n    config.headers[\"access-token\"] = token;\n    config.headers[enumHttpHeader.ClientId] = enumClientIdEnum.MERCHANT;\n\n    return config;\n});\n\naxiosClient.interceptors.response.use(\n    (response) => {\n        if (response && response.data) {\n            return response;\n        }\n        return response;\n    },\n\n    (error : any) => {\n        // Handle errors\n        if (error.response && error.response.status === 401) {\n            //logout\n        }\n        throw error;\n    }\n);\n\nexport default axiosClient;\n"]},"metadata":{},"sourceType":"module"}