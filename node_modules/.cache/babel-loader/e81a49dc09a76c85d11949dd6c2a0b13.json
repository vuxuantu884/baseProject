{"ast":null,"code":"import _regeneratorRuntime from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useFormik}from\"formik\";import{useTranslation}from\"react-i18next\";import*as Yup from\"yup\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{ComponentFromSocial}from\"@components\";import{DAYS,enumExternalMethod,MONTHS,PATH_HOME,YEARS}from\"@configs\";import{useYup}from\"@validations\";import{selectAuth,selectMerchant,setExternalLogin,setLoading}from\"@redux\";import{authApi}from\"@api\";import{useHistory}from\"react-router\";import{useNotify}from\"@utils\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ModuleSocial=function ModuleSocial(){var _merchant$signUpSetti;//page hook\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var _useYup=useYup(),YubSocialSignUp=_useYup.YubSocialSignUp;var dispatch=useDispatch();var history=useHistory();var _useNotify=useNotify(),error=_useNotify.error,success=_useNotify.success;//page redux\nvar _useSelector=useSelector(selectAuth),externalLogin=_useSelector.externalLogin,userInfo=_useSelector.userInfo;var merchant=useSelector(selectMerchant);//page state\nvar _useState=useState({day:\"\",month:\"\",year:\"\",error:\"\"}),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),errorPhone=_useState4[0],setError=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),surveyQuestions=_useState6[0],setSurveyQuestions=_useState6[1];//page variable\nvar contact=userInfo===null||userInfo===void 0?void 0:userInfo.contact;var daySelects=DAYS.map(function(item){return{id:item,label:item};});var monthSelects=MONTHS.map(function(item){return{id:item,label:item};});var yearSelects=YEARS.map(function(item){return{id:item,label:item};});var initialValues={fullName:(contact===null||contact===void 0?void 0:contact.fullName)||\"\",phoneNumber:(contact===null||contact===void 0?void 0:contact.phoneNumber)||\"\",dateOrBirth:\"\",acceptTermsAndConditions:false,email:(contact===null||contact===void 0?void 0:contact.email)||\"\"};var registerSchema=Yup.object().shape(YubSocialSignUp);var fields=(_merchant$signUpSetti=merchant.signUpSettings)===null||_merchant$signUpSetti===void 0?void 0:_merchant$signUpSetti.fields;useEffect(function(){var data=(fields===null||fields===void 0?void 0:fields.map(function(field){return{questionId:field._id||\"\",question:field.fieldName||\"\",answers:[],propertyName:field.propertyName};}))||[];setSurveyQuestions(_toConsumableArray(data));},[]);var handleChangeDay=function handleChangeDay(value){setDate(_objectSpread(_objectSpread({},date),{},{day:value,error:\"\"}));};var handleChangeMonth=function handleChangeMonth(value){setDate(_objectSpread(_objectSpread({},date),{},{month:value,error:\"\"}));};var handleChangeYear=function handleChangeYear(value){setDate(_objectSpread(_objectSpread({},date),{},{year:value,error:\"\"}));};var handleChangeAdditionField=function handleChangeAdditionField(value){//\nvalue;};var handleRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setSubmitting,dateForm,res,errorsResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref.setSubmitting;if(!errorPhone){_context.next=3;break;}return _context.abrupt(\"return\");case 3:if(!(!date.day||!date.month||!date.year)){_context.next=6;break;}setDate(_objectSpread(_objectSpread({},date),{},{error:t(\"validation.is_required\")}));return _context.abrupt(\"return\");case 6:if(values.phoneNumber){_context.next=9;break;}setError(t(\"validation.isNumber\"));return _context.abrupt(\"return\");case 9:_context.prev=9;setSubmitting(true);dispatch(setLoading(true));dateForm=new Date(date.day+\"/\"+date.month+\"/\"+date.year);_context.next=15;return authApi.createPassword(_objectSpread(_objectSpread({},values),{},{dateOrBirth:dateForm,surveyQuestions:surveyQuestions,phoneNumber:values.phone}));case 15:res=_context.sent;if(res){success(t(\"message.sign_up.success\"));history.push(PATH_HOME);dispatch(setExternalLogin({type:externalLogin||enumExternalMethod.GOOGLE,isSignUp:false}));}_context.next=23;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](9);errorsResponse=_context.t0.response.data.errors;if(Array.isArray(errorsResponse)&&errorsResponse.length){error(errorsResponse[0]);}else{error(t(\"message.sign_up.fail\"));}case 23:_context.prev=23;setSubmitting(false);dispatch(setLoading(false));return _context.finish(23);case 27:case\"end\":return _context.stop();}}},_callee,null,[[9,19,23,27]]);}));return function handleRegister(_x,_x2){return _ref2.apply(this,arguments);};}();var _useFormik=useFormik({initialValues:initialValues,validationSchema:registerSchema,onSubmit:handleRegister}),values=_useFormik.values,handleChange=_useFormik.handleChange,handleBlur=_useFormik.handleBlur,handleSubmit=_useFormik.handleSubmit,isSubmitting=_useFormik.isSubmitting,errors=_useFormik.errors,touched=_useFormik.touched,setFieldValue=_useFormik.setFieldValue,setFieldTouched=_useFormik.setFieldTouched;var handleChangeAnswerByIndex=function handleChangeAnswerByIndex(answer,index){if(Array.isArray(answer)){surveyQuestions[index].answers=answer;}else{surveyQuestions[index].answers=[answer];}setSurveyQuestions(_toConsumableArray(surveyQuestions));};return/*#__PURE__*/_jsx(ComponentFromSocial,{handleBlur:handleBlur,handleChange:handleChange,errors:errors,touched:touched,values:values,isSubmitting:isSubmitting,days:daySelects,months:monthSelects,years:yearSelects,onChangeDay:handleChangeDay,onChangeMonth:handleChangeMonth,onChangeYear:handleChangeYear,onChangeAdditionField:handleChangeAdditionField,handleSubmit:handleSubmit,date:date,surveyQuestions:surveyQuestions,handleChangeAnswerByIndex:handleChangeAnswerByIndex,setFieldTouched:setFieldTouched,errorPhone:errorPhone||\"\",setFieldValue:setFieldValue,setError:setError});};","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/Modules/Social.tsx"],"names":["useFormik","useTranslation","Yup","useEffect","useState","useDispatch","useSelector","ComponentFromSocial","DAYS","enumExternalMethod","MONTHS","PATH_HOME","YEARS","useYup","selectAuth","selectMerchant","setExternalLogin","setLoading","authApi","useHistory","useNotify","ModuleSocial","t","YubSocialSignUp","dispatch","history","error","success","externalLogin","userInfo","merchant","day","month","year","date","setDate","errorPhone","setError","surveyQuestions","setSurveyQuestions","contact","daySelects","map","item","id","label","monthSelects","yearSelects","initialValues","fullName","phoneNumber","dateOrBirth","acceptTermsAndConditions","email","registerSchema","object","shape","fields","signUpSettings","data","field","questionId","_id","question","fieldName","answers","propertyName","handleChangeDay","value","handleChangeMonth","handleChangeYear","handleChangeAdditionField","handleRegister","values","setSubmitting","dateForm","Date","createPassword","phone","res","push","type","GOOGLE","isSignUp","errorsResponse","response","errors","Array","isArray","length","validationSchema","onSubmit","handleChange","handleBlur","handleSubmit","isSubmitting","touched","setFieldValue","setFieldTouched","handleChangeAnswerByIndex","answer","index"],"mappings":"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","sourcesContent":["import { FormikHelpers, useFormik } from \"formik\";\nimport { useTranslation } from \"react-i18next\";\nimport * as Yup from \"yup\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { ComponentFromSocial } from \"@components\";\nimport { DAYS, enumExternalMethod, MONTHS, PATH_HOME, YEARS } from \"@configs\";\nimport { IDate, ISelect, ISocialMedia, ISurveyQuestions } from \"@interfaces\";\nimport { useYup } from \"@validations\";\nimport { selectAuth, selectMerchant, setExternalLogin, setLoading } from \"@redux\";\nimport { authApi } from \"@api\";\nimport { useHistory } from \"react-router\";\nimport { useNotify } from \"@utils\";\n\nexport const ModuleSocial = () => {\n    //page hook\n    const { t } = useTranslation();\n    const { YubSocialSignUp } = useYup();\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const { error, success } = useNotify();\n    //page redux\n    const { externalLogin, userInfo } = useSelector(selectAuth);\n    const merchant = useSelector(selectMerchant);\n    //page state\n    const [date, setDate] = useState<IDate>({\n        day: \"\",\n        month: \"\",\n        year: \"\",\n        error: \"\",\n    });\n    const [errorPhone, setError] = useState<string>();\n    const [surveyQuestions, setSurveyQuestions] = useState<ISurveyQuestions[]>([]);\n\n    //page variable\n    const contact = userInfo?.contact;\n    const daySelects: ISelect[] = DAYS.map((item) => {\n        return {\n            id: item,\n            label: item,\n        };\n    });\n    const monthSelects: ISelect[] = MONTHS.map((item) => {\n        return {\n            id: item,\n            label: item,\n        };\n    });\n    const yearSelects: ISelect[] = YEARS.map((item) => {\n        return {\n            id: item,\n            label: item,\n        };\n    });\n\n    const initialValues: ISocialMedia = {\n        fullName: contact?.fullName || \"\",\n        phoneNumber: contact?.phoneNumber || \"\",\n        dateOrBirth: \"\",\n        acceptTermsAndConditions: false,\n        email: contact?.email || \"\",\n    };\n    const registerSchema = Yup.object().shape(YubSocialSignUp);\n\n    const fields = merchant.signUpSettings?.fields;\n\n    useEffect(() => {\n        const data: ISurveyQuestions[] =\n            fields?.map((field) => {\n                return {\n                    questionId: field._id || \"\",\n                    question: field.fieldName || \"\",\n                    answers: [],\n                    propertyName: field.propertyName,\n                };\n            }) || [];\n        setSurveyQuestions([...data]);\n    }, []);\n\n    const handleChangeDay = (value: string) => {\n        setDate({\n            ...date,\n            day: value,\n            error: \"\",\n        });\n    };\n    const handleChangeMonth = (value: string) => {\n        setDate({\n            ...date,\n            month: value,\n            error: \"\",\n        });\n    };\n    const handleChangeYear = (value: string) => {\n        setDate({\n            ...date,\n            year: value,\n            error: \"\",\n        });\n    };\n\n    const handleChangeAdditionField = (value: string) => {\n        //\n        value;\n    };\n\n    const handleRegister = async (\n        values: ISocialMedia,\n        { setSubmitting }: FormikHelpers<ISocialMedia>\n    ) => {\n        if (errorPhone) return;\n        if (!date.day || !date.month || !date.year) {\n            setDate({\n                ...date,\n                error: t(\"validation.is_required\"),\n            });\n            return;\n        }\n        if (!values.phoneNumber) {\n            setError(t(\"validation.isNumber\"));\n            return;\n        }\n        try {\n            setSubmitting(true);\n            dispatch(setLoading(true));\n            const dateForm = new Date(date.day + \"/\" + date.month + \"/\" + date.year);\n            const res = await authApi.createPassword({\n                ...values,\n                dateOrBirth: dateForm,\n                surveyQuestions,\n                phoneNumber: values.phone,\n            });\n            if (res) {\n                success(t(\"message.sign_up.success\"));\n                history.push(PATH_HOME);\n                dispatch(\n                    setExternalLogin({\n                        type: externalLogin || enumExternalMethod.GOOGLE,\n                        isSignUp: false,\n                    })\n                );\n            }\n        } catch (errors: any) {\n            const errorsResponse = errors.response.data.errors;\n            if (Array.isArray(errorsResponse) && errorsResponse.length) {\n                error(errorsResponse[0]);\n            } else {\n                error(t(\"message.sign_up.fail\"));\n            }\n        } finally {\n            setSubmitting(false);\n            dispatch(setLoading(false));\n        }\n        //\n    };\n\n    const {\n        values,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        isSubmitting,\n        errors,\n        touched,\n        setFieldValue,\n        setFieldTouched,\n    } = useFormik({\n        initialValues: initialValues,\n        validationSchema: registerSchema,\n        onSubmit: handleRegister,\n    });\n\n    const handleChangeAnswerByIndex = (answer: string | string[], index: number) => {\n        if (Array.isArray(answer)) {\n            surveyQuestions[index].answers = answer;\n        } else {\n            surveyQuestions[index].answers = [answer];\n        }\n        setSurveyQuestions([...surveyQuestions]);\n    };\n\n    return (\n        <ComponentFromSocial\n            handleBlur={handleBlur}\n            handleChange={handleChange}\n            errors={errors}\n            touched={touched}\n            values={values}\n            isSubmitting={isSubmitting}\n            days={daySelects}\n            months={monthSelects}\n            years={yearSelects}\n            onChangeDay={handleChangeDay}\n            onChangeMonth={handleChangeMonth}\n            onChangeYear={handleChangeYear}\n            onChangeAdditionField={handleChangeAdditionField}\n            handleSubmit={handleSubmit}\n            date={date}\n            surveyQuestions={surveyQuestions}\n            handleChangeAnswerByIndex={handleChangeAnswerByIndex}\n            setFieldTouched={setFieldTouched}\n            errorPhone={errorPhone || \"\"}\n            setFieldValue={setFieldValue}\n            setError={setError}\n        />\n    );\n};\n"]},"metadata":{},"sourceType":"module"}