{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _toConsumableArray from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/vuxuantu/Desktop/rewarding-platform-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;import{useTranslation}from\"react-i18next\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router\";import styled from\"styled-components\";import{useEffect,useState}from\"react\";import{ComponentHeaderAuth,ComponentSocialMedia,SharedSocialLine,StyledContainerSignIn,StyledSignUp}from\"@components\";import{logout,selectMerchant}from\"@redux\";import{ModuleEmailSignUp,ModuleFaceBook,ModuleGoogle,ModuleLine,ModuleTelSignUp}from\"@modules\";import{enumExternalMethod,enumExternalAuthType,PATH_SIGN_IN}from\"@configs\";import{useNotify}from\"@utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var PageSignUp=function PageSignUp(){var _merchant$signUpSetti;//page hook\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var _useNotify=useNotify(),error=_useNotify.error;var dispatch=useDispatch();//redux states\nvar merchant=useSelector(selectMerchant);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),signinMethods=_useState2[0],setSigninMethods=_useState2[1];//page variable\nvar state={type:enumExternalAuthType.SIGNUP};var signUpMethods=merchant===null||merchant===void 0?void 0:(_merchant$signUpSetti=merchant.signUpSettings)===null||_merchant$signUpSetti===void 0?void 0:_merchant$signUpSetti.signUpMethods;var checkMethodSignUpSocial=(signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.GOOGLE))||(signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.LINE))||(signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.FACEBOOK));var checkMethodSignUpEmail=signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.EMAIL);var checkMethodSignUpTel=signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.TEL);var errorHandler=function errorHandler(errors){//handle Error\nif(errors.response){var _errors$response=errors.response,data=_errors$response.data,status=_errors$response.status;if((data===null||data===void 0?void 0:data.message)&&status!==500){error(data===null||data===void 0?void 0:data.message);}else{error(t(\"page.auth.sign_in_failed\"));}dispatch(logout());}};useEffect(function(){if(signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.LINE)){signinMethods.push(/*#__PURE__*/_jsx(ModuleLine,{state:state}));}if(signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.FACEBOOK)){signinMethods.push(/*#__PURE__*/_jsx(ModuleFaceBook,{errorHandler:errorHandler,state:state}));}if(signUpMethods===null||signUpMethods===void 0?void 0:signUpMethods.includes(enumExternalMethod.GOOGLE)){signinMethods.push(/*#__PURE__*/_jsx(ModuleGoogle,{errorHandler:errorHandler,state:state}));}setSigninMethods(_toConsumableArray(signinMethods));},[]);var handleSignIn=function handleSignIn(){history.push(PATH_SIGN_IN);};return/*#__PURE__*/_jsx(StyledContainerSignIn,{color:merchant.themeColor,children:/*#__PURE__*/_jsx(ComponentHeaderAuth,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledSignUp,{children:/*#__PURE__*/_jsxs(StyledContainer,{bg_color:merchant.themeColor,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[t(\"page.auth.sign_in_to\"),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",merchant.name]}),checkMethodSignUpSocial&&/*#__PURE__*/_jsx(\"div\",{className:\"choose\",children:t(\"page.auth.choose_sign_up_method\")}),/*#__PURE__*/_jsx(ComponentSocialMedia,{socials:signinMethods}),(checkMethodSignUpEmail||checkMethodSignUpTel)&&/*#__PURE__*/_jsx(SharedSocialLine,{}),checkMethodSignUpEmail?/*#__PURE__*/_jsx(ModuleEmailSignUp,{}):checkMethodSignUpTel?/*#__PURE__*/_jsx(ModuleTelSignUp,{}):/*#__PURE__*/_jsx(_Fragment,{})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign_in\",children:[t(\"page.auth.already_have_an_account\"),/*#__PURE__*/_jsx(\"span\",{onClick:handleSignIn,children:t(\"page.auth.sign_in\")})]})]})})});};var StyledContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    .title {\\n        font-style: normal;\\n        font-weight: bold;\\n        font-size: 18px;\\n        line-height: 1.25em;\\n        color: #000000;\\n        margin-bottom: 25px;\\n    }\\n    .choose {\\n        font-size: 15px;\\n        line-height: 21px;\\n        color: #676767;\\n        margin-bottom: 30px;\\n    }\\n    .site-form-item-icon {\\n        font-size: 20px;\\n    }\\n    .forgot {\\n        font-size: 15px;\\n        line-height: 21px;\\n        font-weight: bold;\\n        color: #646464;\\n        text-align: start;\\n        margin-top: 16px;\\n        span {\\n            color: \",\";\\n            cursor: pointer;\\n        }\\n    }\\n    .remember {\\n        text-align: start;\\n        font-weight: bold;\\n        font-size: 15px;\\n        line-height: 21px;\\n        margin-top: 8px;\\n        color: #646464;\\n    }\\n\"])),function(p){return p.bg_color;});","map":{"version":3,"sources":["/home/vuxuantu/Desktop/rewarding-platform-client/src/Pages/authentication/SignUp.tsx"],"names":["useTranslation","useDispatch","useSelector","useHistory","styled","useEffect","useState","ComponentHeaderAuth","ComponentSocialMedia","SharedSocialLine","StyledContainerSignIn","StyledSignUp","logout","selectMerchant","ModuleEmailSignUp","ModuleFaceBook","ModuleGoogle","ModuleLine","ModuleTelSignUp","enumExternalMethod","enumExternalAuthType","PATH_SIGN_IN","useNotify","PageSignUp","t","history","error","dispatch","merchant","signinMethods","setSigninMethods","state","type","SIGNUP","signUpMethods","signUpSettings","checkMethodSignUpSocial","includes","GOOGLE","LINE","FACEBOOK","checkMethodSignUpEmail","EMAIL","checkMethodSignUpTel","TEL","errorHandler","errors","response","data","status","message","push","handleSignIn","themeColor","name","StyledContainer","div","p","bg_color"],"mappings":"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","sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\n\nimport {\n    ComponentHeaderAuth,\n    ComponentSocialMedia,\n    SharedSocialLine,\n    StyledContainerSignIn,\n    StyledSignUp,\n} from \"@components\";\nimport { logout, selectMerchant } from \"@redux\";\nimport {\n    ModuleEmailSignUp,\n    ModuleFaceBook,\n    ModuleGoogle,\n    ModuleLine,\n    ModuleTelSignUp,\n} from \"@modules\";\nimport { enumExternalMethod, enumExternalAuthType, PATH_SIGN_IN } from \"@configs\";\nimport { IExternalAuthState } from \"@interfaces\";\nimport { useNotify } from \"@utils\";\n\nexport const PageSignUp = () => {\n    //page hook\n    const { t } = useTranslation();\n    const history = useHistory();\n    const { error } = useNotify();\n    const dispatch = useDispatch();\n    //redux states\n    const merchant = useSelector(selectMerchant);\n    const [signinMethods, setSigninMethods] = useState<JSX.Element[]>([]);\n    //page variable\n    const state: IExternalAuthState = {\n        type: enumExternalAuthType.SIGNUP,\n    };\n    const signUpMethods = merchant?.signUpSettings?.signUpMethods;\n    const checkMethodSignUpSocial =\n        signUpMethods?.includes(enumExternalMethod.GOOGLE) ||\n        signUpMethods?.includes(enumExternalMethod.LINE) ||\n        signUpMethods?.includes(enumExternalMethod.FACEBOOK);\n    const checkMethodSignUpEmail = signUpMethods?.includes(enumExternalMethod.EMAIL);\n    const checkMethodSignUpTel = signUpMethods?.includes(enumExternalMethod.TEL);\n\n    const errorHandler = (errors: any) => {\n        //handle Error\n        if (errors.response) {\n            const { data, status } = errors.response;\n            if (data?.message && status !== 500) {\n                error(data?.message);\n            } else {\n                error(t(\"page.auth.sign_in_failed\"));\n            }\n            dispatch(logout());\n        }\n    };\n\n    useEffect(() => {\n        if (signUpMethods?.includes(enumExternalMethod.LINE)) {\n            signinMethods.push(<ModuleLine state={state} />);\n        }\n        if (signUpMethods?.includes(enumExternalMethod.FACEBOOK)) {\n            signinMethods.push(<ModuleFaceBook errorHandler={errorHandler} state={state} />);\n        }\n        if (signUpMethods?.includes(enumExternalMethod.GOOGLE)) {\n            signinMethods.push(<ModuleGoogle errorHandler={errorHandler} state={state} />);\n        }\n        setSigninMethods([...signinMethods]);\n    }, []);\n\n    const handleSignIn = () => {\n        history.push(PATH_SIGN_IN);\n    };\n\n    return (\n        <StyledContainerSignIn color={merchant.themeColor}>\n            <ComponentHeaderAuth>\n                <>\n                    <StyledSignUp>\n                        <StyledContainer bg_color={merchant.themeColor}>\n                            <div className=\"title\">\n                                {t(\"page.auth.sign_in_to\")} <br /> {merchant.name}\n                            </div>\n                            {checkMethodSignUpSocial && (\n                                <div className=\"choose\">{t(\"page.auth.choose_sign_up_method\")}</div>\n                            )}\n                            <ComponentSocialMedia socials={signinMethods} />\n                            {(checkMethodSignUpEmail || checkMethodSignUpTel) && (\n                                <SharedSocialLine />\n                            )}\n                            {checkMethodSignUpEmail ? (\n                                <ModuleEmailSignUp />\n                            ) : checkMethodSignUpTel ? (\n                                <ModuleTelSignUp />\n                            ) : (\n                                <></>\n                            )}\n\n                            {/* <ModuleEmailSignIn /> */}\n                        </StyledContainer>\n                    </StyledSignUp>\n                    {/* <ModuleEmailSignIn handleForgotPassword={handleForgotPassword} /> */}\n                    <div className=\"sign_in\">\n                        {t(\"page.auth.already_have_an_account\")}\n                        <span onClick={handleSignIn}>{t(\"page.auth.sign_in\")}</span>\n                    </div>\n                </>\n            </ComponentHeaderAuth>\n        </StyledContainerSignIn>\n    );\n};\n\nconst StyledContainer = styled.div<{ bg_color: string }>`\n    .title {\n        font-style: normal;\n        font-weight: bold;\n        font-size: 18px;\n        line-height: 1.25em;\n        color: #000000;\n        margin-bottom: 25px;\n    }\n    .choose {\n        font-size: 15px;\n        line-height: 21px;\n        color: #676767;\n        margin-bottom: 30px;\n    }\n    .site-form-item-icon {\n        font-size: 20px;\n    }\n    .forgot {\n        font-size: 15px;\n        line-height: 21px;\n        font-weight: bold;\n        color: #646464;\n        text-align: start;\n        margin-top: 16px;\n        span {\n            color: ${(p) => p.bg_color};\n            cursor: pointer;\n        }\n    }\n    .remember {\n        text-align: start;\n        font-weight: bold;\n        font-size: 15px;\n        line-height: 21px;\n        margin-top: 8px;\n        color: #646464;\n    }\n`;\n"]},"metadata":{},"sourceType":"module"}