"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@liff/consts"),t=require("@liff/is-in-client"),n=require("@liff/util"),o={};function r(){return o}function T(o,r){if(!r)throw n.createLiffError(e.INVALID_CONFIG,"liffId is necessary for liff.init()");var T=(t.isInClient()?sessionStorage:localStorage).getItem(e.STORE_KEY+":"+r+":"+o);try{return null===T?null:JSON.parse(T)}catch(E){return null}}function E(e){return T(e,r().liffId)}function i(o,T){var E=r().liffId;if(!E)throw n.createLiffError(e.INVALID_CONFIG,"liffId is necessary for liff.init()");(t.isInClient()?sessionStorage:localStorage).setItem(e.STORE_KEY+":"+E+":"+o,JSON.stringify(T))}function s(){return E(e.STORE_OBJECT.CONTEXT)}function O(o){var T=r().liffId;if(!T)throw n.createLiffError(e.INVALID_CONFIG,"liffId is necessary for liff.init()");(t.isInClient()?sessionStorage:localStorage).removeItem(e.STORE_KEY+":"+T+":"+o)}function f(){var t=r();n.cookie.remove(e.STORE_KEY+":"+e.STORE_OBJECT.EXPIRES+":"+t.liffId,{path:"/"})}exports.clean=function(){Object.keys(e.STORE_OBJECT).forEach((function(t){O(e.STORE_OBJECT[t])})),f()},exports.clearAutologinAttempt=function(){i(e.STORE_OBJECT.AUTOLOGIN_ATTEMPT,!1)},exports.get=E,exports.getAId=function(){return((s()||{}).d||{}).aId},exports.getAccessToken=function(){return E(e.STORE_OBJECT.ACCESS_TOKEN)},exports.getAppData=function(){return E(e.STORE_OBJECT.APP_DATA)},exports.getAutologinAttempt=function(){return!!E(e.STORE_OBJECT.AUTOLOGIN_ATTEMPT)},exports.getByLiffId=T,exports.getClientId=function(){return E(e.STORE_OBJECT.CLIENT_ID)},exports.getConfig=r,exports.getContext=s,exports.getDecodedIDToken=function(){return E(e.STORE_OBJECT.DECODED_ID_TOKEN)},exports.getExpireTime=function(){var t=r();return n.cookie.get(e.STORE_KEY+":"+e.STORE_OBJECT.EXPIRES+":"+t.liffId)},exports.getFeatureToken=function(){return E(e.STORE_OBJECT.FEATURE_TOKEN)},exports.getIDToken=function(){return E(e.STORE_OBJECT.ID_TOKEN)},exports.getIsSubsequentLiffApp=function(){return Boolean(E(e.STORE_OBJECT.IS_SUBSEQUENT_LIFF_APP))},exports.getIsVideoAutoPlay=function(){return((s()||{}).d||{}).autoplay||!1},exports.getLoginTmp=function(){return E(e.STORE_OBJECT.LOGIN_TMP)},exports.getMSIT=function(){return E(e.STORE_OBJECT.MSIT)},exports.getMST=function(){return E(e.STORE_OBJECT.MST)},exports.getMSTChallenge=function(){return E(e.STORE_OBJECT.MST_CHALLENGE)},exports.getMSTVerifier=function(){return E(e.STORE_OBJECT.MST_VERIFIER)},exports.getProfilePlus=function(){return(s()||{}).profilePlus},exports.getRawContext=function(){return E(e.STORE_OBJECT.RAW_CONTEXT)},exports.remove=O,exports.removeExpireTime=f,exports.removeLoginTmp=function(){O(e.STORE_OBJECT.LOGIN_TMP)},exports.set=i,exports.setAccessToken=function(t){i(e.STORE_OBJECT.ACCESS_TOKEN,t)},exports.setAppData=function(t){i(e.STORE_OBJECT.APP_DATA,t)},exports.setAutologinAttempt=function(){i(e.STORE_OBJECT.AUTOLOGIN_ATTEMPT,!0)},exports.setClientId=function(t){i(e.STORE_OBJECT.CLIENT_ID,t)},exports.setConfig=function(e){o=e},exports.setContext=function(t){i(e.STORE_OBJECT.CONTEXT,t)},exports.setDecodedIDToken=function(t){i(e.STORE_OBJECT.DECODED_ID_TOKEN,t)},exports.setExpireTime=function(t){var o=r();n.cookie.set(e.STORE_KEY+":"+e.STORE_OBJECT.EXPIRES+":"+o.liffId,t.getTime(),{expires:t.toUTCString(),path:"/",secure:null})},exports.setFeatureToken=function(t){i(e.STORE_OBJECT.FEATURE_TOKEN,t)},exports.setIDToken=function(t){i(e.STORE_OBJECT.ID_TOKEN,t)},exports.setIsSubsequentLiffApp=function(t){i(e.STORE_OBJECT.IS_SUBSEQUENT_LIFF_APP,t)},exports.setLoginTmp=function(t){i(e.STORE_OBJECT.LOGIN_TMP,t)},exports.setMSIT=function(t){i(e.STORE_OBJECT.MSIT,t)},exports.setMST=function(t){i(e.STORE_OBJECT.MST,t)},exports.setMSTChallenge=function(t){i(e.STORE_OBJECT.MST_CHALLENGE,t)},exports.setMSTVerifier=function(t){i(e.STORE_OBJECT.MST_VERIFIER,t)};
